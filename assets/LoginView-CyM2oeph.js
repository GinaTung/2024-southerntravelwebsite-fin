import{s as p}from"./sweetAlert-po1Dmf7l.js";import{_ as w,c as v,a as e,b as t,w as g,r as l,o as b,n as _,p as V,i as k}from"./index-_LL0aPGL.js";const y="https://two024-south-json-server-vercel.onrender.com",x={data(){return{user:{email:"",password:""}}},methods:{login(){event.preventDefault(),this.axios.post(`${y}/login`,this.user).then(s=>{p.threeLayerCheckType("success","會員登入成功");const{accessToken:o,expired:d}=s.data,i=s.data.user.id;document.cookie=`hexTokenU=${o}; expires=${new Date(d).toUTCString()}`,document.cookie=`userId=${i}`,this.userIsLoggedIn2=!0,this.userId=i,this.$router.push("/"),this.$emitter.emit("loginCheck2",!0),this.$emitter.emit("adminUpdateCart")}).catch(()=>{p.threeLayerCheckType("error","會員登入失敗，請再次填寫會員登入資料")})}},mounted(){window.scrollTo(0,0)}},r=s=>(V("data-v-896c51c2"),s=s(),k(),s),I={class:"container py-10 py-lg-30"},C={class:"row justify-content-center align-items-cneter"},S={class:"col-md-6"},T=r(()=>e("h1",{class:"h3 mb-4 text-center"},"會員登入",-1)),$={class:"form-floating mb-4"},E=r(()=>e("label",{for:"email"},"請輸入 Email",-1)),U={class:"form-floating mb-4"},F=r(()=>e("label",{for:"userpassword"},"請輸入Password",-1)),L=r(()=>e("button",{class:"btn-turquoise w-100 mt-4 btn-rounded",type:"submit",id:"login"},"登入",-1));function q(s,o,d,i,a,h){const c=l("VeeField"),m=l("ErrorMessage"),f=l("VeeForm");return b(),v("div",I,[e("div",C,[e("div",S,[T,t(f,{id:"form",ref:"form",onSubmit:h.login},{default:g(({errors:u})=>[e("div",$,[t(c,{type:"email",name:"email",class:_(["form-control",{"is-invalid":u.email}]),modelValue:a.user.email,"onUpdate:modelValue":o[0]||(o[0]=n=>a.user.email=n),id:"email",placeholder:"請輸入 Email",rules:"email|required",autocomplete:"useremail"},null,8,["modelValue","class"]),E,t(m,{name:"email",class:"invalid-feedback"})]),e("div",U,[t(c,{type:"password",class:_(["form-control",{"is-invalid":u.password}]),name:"password",id:"userpassword",placeholder:"請輸入Password",rules:"min:8|alpha_dash|required",autocomplete:"current-password",modelValue:a.user.password,"onUpdate:modelValue":o[1]||(o[1]=n=>a.user.password=n)},null,8,["class","modelValue"]),F,t(m,{name:"password",class:"invalid-feedback"})]),L]),_:1},8,["onSubmit"])])])])}const D=w(x,[["render",q],["__scopeId","data-v-896c51c2"]]);export{D as default};
