import{_ as f,c as l,a as e,b as c,w as i,g as b,j as m,r as p,o as n,d as r,t as d}from"./index-vzW9V7O9.js";const h="https://two024-south-json-server-vercel.onrender.com",k={data(){return{text:"南部旅遊方案",products:[],user:"",newProductsDes:"",enabledProducts:[],searchChiayi:[],serchTainan:[],searchKaohsiung:[],fullPath:"",currentURL:""}},watch:{$route(s,t){this.currentURL=s.fullPath}},methods:{getProducts(){this.axios.get(`${h}/products`).then(s=>{this.products=s.data,this.products.forEach(t=>{t.is_enabled===1&&this.enabledProducts.push(t)}),this.getNewText()}).catch(s=>{console.log(s)})},truncateContent(s,t){return s&&s.length>t?s.substring(0,t)+"...":s},getNewText(){const s={};this.products.forEach(t=>{t.description&&t.description.split(";").forEach(_=>{const a=_.trim();s[t.id]||(s[t.id]=[]),s[t.id].push(a)})}),this.newProductsDes=Object.entries(s).map(([t,u])=>({id:t,descriptions:u}))},searchProducts(){this.axios.get(`${h}/products?category=嘉義`).then(s=>{this.products=s.data,this.products.forEach(t=>{t.is_enabled===1&&this.searchChiayi.push(t)})}).catch(s=>{alert(`${s.message}`)}),this.axios.get(`${h}/products?category=台南`).then(s=>{this.products=s.data,this.products.forEach(t=>{t.is_enabled===1&&this.serchTainan.push(t)})}).catch(s=>{alert(`${s.message}`)}),this.axios.get(`${h}/products?category=高雄`).then(s=>{this.products=s.data,this.products.forEach(t=>{t.is_enabled===1&&this.searchKaohsiung.push(t)})}).catch(s=>{alert(`${s.message}`)})}},mounted(){this.searchProducts(),this.getProducts(),this.fullPath=this.$route.fullPath}},P={class:"container py-10 py-lg-30"},T={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb",class:"pb-5 pb-lg-15"},v={class:"breadcrumb mb-0 fs-5"},y={class:"breadcrumb-item"},x={class:"breadcrumb-item","aria-current":"page"},w={key:1},C={key:0,class:"breadcrumb-item d-lg-none"},j={key:1,class:"breadcrumb-item d-lg-none"},E={key:2,class:"breadcrumb-item d-lg-none"},K={key:3,class:"breadcrumb-item d-lg-none"},N={class:"tourist-list"},R={class:"row"},U={class:"col-12 col-md-3 mb-5 mb-md-6 mb-lg-0 d-none d-lg-flex"},L={class:"border-info2 border-1 border w-100 rounded-1 h-100"},V=e("p",{class:"fs-4 p-5 bg-primary-500 text-white rounded-top"},"地區篩選",-1),B={class:"nav flex-column"},D={class:"nav-item"},$={class:""},M={class:"nav-item"},O={class:""},S={class:"nav-item"},q={class:""},z={class:"nav-item"},A={class:""},F={class:"col-12 col-lg-9"};function G(s,t,u,_,a,H){const o=p("router-link"),g=p("router-view");return n(),l("div",P,[e("nav",T,[e("ol",v,[e("li",y,[c(o,{to:"/",exact:"","active-class":"active-link"},{default:i(()=>[r(" 首頁 ")]),_:1})]),e("li",x,[a.fullPath!=="/TouristPackage"?(n(),b(o,{key:0,to:{path:"/TouristPackage"},exact:"","active-class":"active-link"},{default:i(()=>[r(" 南部旅遊景點 ")]),_:1})):(n(),l("span",w," 南部旅遊景點 "))]),a.currentURL==="/TouristPackage/all"?(n(),l("li",C,[c(o,{to:"/TouristPackage/all"},{default:i(()=>[r("全部")]),_:1})])):a.currentURL==="/TouristPackage/searchTainan"?(n(),l("li",j,[c(o,{to:"/TouristPackage/searchTainan"},{default:i(()=>[r("台南")]),_:1})])):a.currentURL==="/TouristPackage/searchChiayi"?(n(),l("li",E,[c(o,{to:"/TouristPackage/searchChiayi"},{default:i(()=>[r("嘉義")]),_:1})])):a.currentURL==="/TouristPackage/searchKaohsiung"?(n(),l("li",K,[c(o,{to:"/TouristPackage/searchKaohsiung"},{default:i(()=>[r("高雄")]),_:1})])):m("",!0)])]),e("div",N,[e("div",R,[e("div",U,[e("div",L,[V,e("ul",B,[e("li",D,[c(o,{class:"nav-link p-5 fs-5 link-color d-flex justify-content-between","data-name":"全部","aria-current":"page",to:"/TouristPackage/all"},{default:i(()=>[r("全部區域"),e("span",$,d(a.enabledProducts.length),1)]),_:1})]),e("li",M,[c(o,{class:"nav-link p-5 fs-5 link-color d-flex justify-content-between",to:"/TouristPackage/searchChiayi","data-name":"嘉義"},{default:i(()=>[r("嘉義"),e("span",O,d(a.searchChiayi.length),1)]),_:1})]),e("li",S,[c(o,{class:"nav-link p-5 fs-5 link-color d-flex justify-content-between",to:"/TouristPackage/searchTainan","data-name":"台南"},{default:i(()=>[r("台南"),e("span",q,d(a.serchTainan.length),1)]),_:1})]),e("li",z,[c(o,{class:"nav-link p-5 fs-5 link-color d-flex justify-content-between",to:"/TouristPackage/searchKaohsiung","data-name":"高雄"},{default:i(()=>[r("高雄"),e("span",A,d(a.searchKaohsiung.length),1)]),_:1})])])])]),e("div",F,[c(g)])])])])}const J=f(k,[["render",G]]);export{J as default};
