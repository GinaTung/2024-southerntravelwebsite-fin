import{_ as f,c as i,a as t,F as d,h as _,n as h,A as u,o as c,t as o,b as m,w as v,d as y,r as k}from"./index-cq87140S.js";const C="http://localhost:3000",b={data(){return{attractions:[],searchChiayi:[],pageTotal:0,currentPage:1,limitPage:6,parsedLinks:""}},methods:{truncateContent(r,s){return r&&r.length>s?r.substring(0,s)+"...":r},searchAttractions(r=1){this.axios.get(`${C}/attractions?category=嘉義&_limit=${this.limitPage}&_page=${r}`).then(s=>{var g=parseInt(s.headers["x-total-count"]);this.pageTotal=Math.ceil(g/this.limitPage),this.currentPage=r,this.attractions=s.data,this.searchChiayi=[],this.attractions.forEach(l=>{l.is_enabled===1&&this.searchChiayi.push(l)})}).catch(s=>{alert(`${s.message}`)})}},mounted(){this.searchAttractions()}},x={class:"row g-3"},P={class:"card card-att h-100"},w={class:"tag text-white"},A={class:"card-att-img"},T=["src"],V=t("div",{class:"heart3"},[t("i",{class:"bi bi-heart heart-click"})],-1),B={style:{transform:"rotate(0)"}},N={class:"card-body card-body-att"},S={class:"card-title d-flex justify-content-between align-items-center card-title-att"},j={class:"fs-5 fs-xl-4 fw-bold text-primary-700 card-title-att"},E={class:"card-text card-font-truncate"},F={class:"card-footer text-end border-0"},M={"aria-label":"Page navigation example ",class:"my-10"},z={class:"pagination justify-content-center"},D=["value","onClick"],L={class:"page-item"};function U(r,s,g,l,a,n){const p=k("router-link");return c(),i(d,null,[t("div",x,[(c(!0),i(d,null,_(a.searchChiayi,e=>(c(),i("div",{class:"col-12 col-md-6 col-lg-4",key:e.id},[t("div",P,[t("span",w,o(e.category),1),t("div",A,[t("img",{src:e.imageUrl,class:"img-fluid",alt:""},null,8,T)]),V,t("div",B,[t("div",N,[t("div",S,[t("h4",j,o(e.title),1)]),t("p",E,o(n.truncateContent(e.description,53)),1)]),t("div",F,[m(p,{to:{name:"TouristSingleAttraction",params:{category:e.category,title:e.title}},class:"fs-5 stretched-link",type:"button"},{default:v(()=>[y("more")]),_:2},1032,["to"])])])])]))),128))]),t("nav",M,[t("ul",z,[t("li",{class:h(["page-item",{disabled:!a.currentPage||a.currentPage===1}])},[t("a",{class:"page-link page-link-radius-2",href:"",onClick:s[0]||(s[0]=u(e=>n.searchAttractions(a.currentPage-1),["prevent"]))},"上一頁")],2),(c(!0),i(d,null,_(a.pageTotal,e=>(c(),i("li",{class:"page-item",key:e+123},[t("a",{class:h(["page-link page-link-0 rounded-0",{active:e===a.currentPage}]),href:"",value:e,onClick:u(q=>n.searchAttractions(e),["prevent"])},o(e),11,D)]))),128)),t("li",L,[t("a",{class:h(["page-link page-link-radius",{disabled:!a.currentPage||a.currentPage===a.pageTotal}]),href:"",onClick:s[1]||(s[1]=u(e=>n.searchAttractions(a.currentPage+1),["prevent"]))},"下一頁",2)])])])],64)}const H=f(b,[["render",U]]);export{H as default};
