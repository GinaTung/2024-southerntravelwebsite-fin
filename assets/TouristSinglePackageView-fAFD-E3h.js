import{B as U}from"./BannerBlock-w49Hvv1_.js";import{L as j}from"./LikeBlock-rnNTdg4M.js";import{s as b}from"./sweetAlert-QDkR8cfC.js";import{_ as F,c as n,b as k,a as t,w as L,j as y,m as C,t as l,F as v,h as w,g as E,r as T,o,d as _,k as f,n as x,v as V,p as N,f as A,e as P}from"./index-aZuzJ_mB.js";import"./navigation-TepNDqxS.js";const m="https://two024-south-json-server-vercel.onrender.com",Q={components:{BannerBlock:U,LikeBlock:j},data(){return{category:"",packageTitle:"",products:[],newProductsContent:"",enabledProducts:[],carts:[],quantity:1,newQty:0,newCarts:[],cartId:null,bsOffcanvas:null,userId:"",token:"",currentDate:"",endDate:"",isDisabled:!1,cartsLength:0,isLoading:!1,status:{loadingItem:!1,loadingItem2:"",loadingItem3:"",loadingItem4:"",loadingItem5:""},heartData:[],isFavorite:{}}},created(){this.category=this.$route.params.category,this.packageTitle=this.$route.params.title},methods:{redirectToA(s){this.$router.push({path:"/TouristPackage",query:{category:s}})},checkDate(){var s=new Date,e={year:s.getFullYear(),month:s.getMonth()+1,date:s.getDate()},r=(e.month<10?"0":"")+e.month,h=(e.date<10?"0":"")+e.date,i=e.year+"-"+r+"-"+h;this.currentDate=i},getHeartData(){this.axios.get(`${m}/hearts`).then(s=>{s.data.forEach(e=>{e.userId===this.userId&&e.tag==="旅遊方案"&&(this.isFavorite[e.product]=!0)})}).catch(s=>{b.threeLayerCheckType("error","取得愛心收藏資料失敗")})},toggleFavorite(s,e,r,h){this.token?this.axios.get(`${m}/hearts`).then(i=>{const c=i.data.find(p=>p.product===s&&p.userId===this.userId&&p.tag==="旅遊方案");c?this.axios.delete(`${m}/hearts/${c.id}`).then(p=>{this.isFavorite[s]=!1,b.threeLayerCheckType("success",`取消收藏 ${r} 成功`),this.getHeartData()}).catch(p=>{b.threeLayerCheckType("error","取消收藏資料失敗")}):this.axios.post(`${m}/hearts`,{product:s,category:e,title:r,userId:this.userId,tag:"旅遊方案",imageUrl:h}).then(p=>{this.isFavorite[s]=!0,b.threeLayerCheckType("success",`已加入收藏 ${r} 成功`),this.getHeartData()}).catch(p=>{b.threeLayerCheckType("error","收藏資料失敗")})}).catch(i=>{b.threeLayerCheckType("error","取得愛心收藏資料失敗")}):b.threeLayerCheckType("warning","請登入會員後，才能加入收藏")},getProducts(){this.axios.get(`${m}/products`).then(s=>{this.products=s.data,this.products.forEach(e=>{e.is_enabled===1&&e.title===this.packageTitle&&(this.enabledProducts.push(e),this.isLoading=!1)}),this.endDate=this.enabledProducts[0].endDate,this.getNewText()}).catch(()=>{this.isLoading=!1,b.threeLayerCheckType("error","取得產品資料失敗")})},thousand(s){return s!==void 0&&(s=s.toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),",")),`$ ${s}`},getNewText(){const s={};this.enabledProducts.forEach((e,r)=>{e.content&&e.content.split(";").forEach(i=>{const c=i.trim();c!==""&&(s[e.id]||(s[e.id]=[]),s[e.id].push(c))})});for(const e in s)s[e].length===0&&delete s[e];this.newProductsContent=Object.entries(s).map(([e,r])=>({id:e,content:r}))},addToCart(s,e=1,r,h=1){if(this.status.loadingItem3=s,!this.token)b.threeLayerCheckType("warning","請登入會員後，才能預約套裝行程"),this.status.loadingItem3="";else{let i=!1;this.newCarts.forEach(c=>{c.productId===s&&c.id&&(i=!0,this.cartId=c.id)}),i?this.axios.put(`${m}/carts/${this.cartId}`,{productId:s,qty:e,price:r,total:e*r,userId:this.userId,final_total:e*r*h}).then(()=>{this.status.loadingItem3="",b.threeLayerCheckType("success","已更新預約人數"),this.getCart()}).catch(()=>{this.status.loadingItem3="",b.threeLayerCheckType("error","已更新預約人數失敗")}):this.axios.post(`${m}/carts`,{productId:s,qty:e,price:r,total:e*r,userId:this.userId,final_total:e*r*h}).then(()=>{this.status.loadingItem3="",b.threeLayerCheckType("success",`已預約${this.packageTitle}成功`),this.getCart()}).catch(()=>{this.status.loadingItem3="",b.threeLayerCheckType("error","預約失敗，再重新登入預約")})}},incrementQuantity(s,e){this.status.loadingItem2=s,this.quantity<e?(this.status.loadingItem2="",this.quantity+=1):(this.status.loadingItem2="",b.threeLayerCheckType("warning",`預約人數上限為${e}人`))},decrementQuantity(s){this.status.loadingItem4=s,this.quantity>1&&(this.status.loadingItem4="",this.quantity-=1)},checkMaxValue(s){this.quantity>s&&(this.quantity=s)},handlePlus(s){this.quantity=s++},saveCardId(s,e=1,r,h=1){this.token?(this.addToCart(s,e,r,h),setTimeout(()=>{this.$router.push("/cart")},3e3)):b.threeLayerCheckType("warning","請登入會員後，才能預約套裝行程")},getCart(){this.axios.get(`${m}/carts`).then(s=>{this.carts=s.data,this.carts.forEach(h=>{this.userId===h.userId&&this.newCarts.push(h)});const e=[],r=new Set;this.newCarts.forEach(h=>{r.has(h.productId)||(r.add(h.productId),e.push(h))}),this.newCarts=e,this.cartsLength=this.newCarts.length,this.$emitter.emit("updateCart",this.cartsLength)}).catch(()=>{b.threeLayerCheckType("error","取得購物車資料失敗")})},getCookie(s){const e=document.cookie.split(";");for(let r of e){const[h,i]=r.trim().split("=");if(h===s)return i}return null}},mounted(){this.isLoading=!0,this.getProducts(),this.getCart();const s=this.getCookie("userId"),e=this.getCookie("hexTokenU");this.userId=s*1,this.token=e,this.checkDate(),this.getHeartData(),window.scrollTo(0,0)}},d=s=>(N("data-v-e54e5da3"),s=s(),A(),s),G={class:"container py-10 py-lg-30"},H={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb",class:"pb-5 pb-lg-15"},M={class:"breadcrumb mb-0 fs-5"},z={class:"breadcrumb-item"},O={class:"breadcrumb-item"},Y={class:"breadcrumb-item"},J={class:"breadcrumb-item"},K={class:"col-12 col-md-7 col-lg-8 mb-8 mb-md-10 mb-lg-12"},R={key:0,class:"d-flex"},W=d(()=>t("div",{class:"w-5 d-none d-xl-flex"},[t("i",{class:"bi bi-geo-alt-fill position-relative fs-5"},[t("div",{class:"line"}),t("i",{class:"bi bi-arrow-down-circle-fill arrow"})])],-1)),X=d(()=>t("div",{class:"w-100 w-xl-95 position-relative pe-0 pe-lg-5"},[t("h4",{class:"d-flex"},[t("i",{class:"bi bi-geo-fill d-flex d-xl-none me-2 align-items-end"}),_("第一天 ")]),t("ul",{class:"nav nav-underline nav-fill mb-4 w-100 w-lg-60",id:"pills-tab",role:"tablist"},[t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," 早上 ")]),t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"}," 下午1 ")]),t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link",id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false"}," 下午2 ")])]),t("div",{class:"tab-content card-att",id:"pills-tabContent"},[t("div",{class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab",tabindex:"0"},[t("div",{class:"row"},[t("div",{class:"w-100 w-lg-60 mb-4"},[t("div",{class:"card-att-img card-att-img-2"},[t("img",{src:"https://raw.githubusercontent.com/GinaTung/2024-southerntravelwebsite-fin/dev/public/products/duck.jpg",class:"img-fluid pb-4 pb-lg-0 opacity-25",alt:"Placeholder Image"})])]),t("div",{class:"w-100 w-lg-40 placeholder-glow"},[t("span",{class:"placeholder w-50 fs-4"}),t("span",{class:"placeholder w-100"}),t("span",{class:"placeholder w-100"}),t("span",{class:"placeholder w-100"}),t("span",{class:"placeholder w-100"}),t("span",{class:"placeholder w-100"}),t("span",{class:"placeholder w-100"})])])]),t("div",{class:"tab-pane fade",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab",tabindex:"0"},[t("div",{class:"row"},[t("div",{class:"w-100 w-lg-60 mb-4"},[t("div",{class:"card-att-img card-att-img-2"},[t("img",{src:"https://raw.githubusercontent.com/GinaTung/2024-southerntravelwebsite-fin/dev/public/products/duck.jpg",class:"img-fluid pb-4 pb-lg-0 opacity-25",alt:"Placeholder Image"})])]),t("div",{class:"w-100 w-lg-40 placeholder-glow"},[t("span",{class:"placeholder w-50 fs-4"}),t("span",{class:"placeholder w-100"}),t("span",{class:"placeholder w-100"}),t("span",{class:"placeholder w-100"}),t("span",{class:"placeholder w-100"}),t("span",{class:"placeholder w-100"}),t("span",{class:"placeholder w-100"})])])]),t("div",{class:"tab-pane fade",id:"pills-contact",role:"tabpanel","aria-labelledby":"pills-contact-tab",tabindex:"0"},[t("div",{class:"row"},[t("div",{class:"w-100 w-lg-60 mb-4"},[t("div",{class:"card-att-img card-att-img-2"},[t("img",{src:"https://raw.githubusercontent.com/GinaTung/2024-southerntravelwebsite-fin/dev/public/products/duck.jpg",class:"img-fluid pb-4 pb-lg-0 opacity-25",alt:"Placeholder Image"})])]),t("div",{class:"w-100 w-lg-40 placeholder-glow"},[t("span",{class:"placeholder w-50 fs-4"}),t("span",{class:"placeholder w-100"}),t("span",{class:"placeholder w-100"}),t("span",{class:"placeholder w-100"}),t("span",{class:"placeholder w-100"}),t("span",{class:"placeholder w-100"}),t("span",{class:"placeholder w-100"})])])])])],-1)),Z=[W,X],$={class:"d-flex"},I=d(()=>t("div",{class:"w-5 d-none d-xl-flex"},[t("i",{class:"bi bi-geo-alt-fill position-relative fs-5"},[t("div",{class:"line"}),t("i",{class:"bi bi-arrow-down-circle-fill arrow"})])],-1)),tt={class:"w-100 w-xl-95 position-relative pe-0 pe-lg-5"},at=d(()=>t("h4",{class:"d-flex"},[t("i",{class:"bi bi-geo-fill d-flex d-xl-none me-2 align-items-end"}),_("第一天 ")],-1)),st=d(()=>t("ul",{class:"nav nav-underline nav-fill mb-4 w-100 w-lg-60",id:"pills-tab",role:"tablist"},[t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"}," 早上 ")]),t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"}," 下午1 ")]),t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link",id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false"}," 下午2 ")])],-1)),et={class:"tab-content card-att",id:"pills-tabContent"},it={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab",tabindex:"0"},lt={class:"row"},ot={class:"w-100 w-lg-60 mb-4"},rt={class:"card-att-img card-att-img-2"},nt=["src","alt"],dt={class:"w-100 w-lg-40"},ct={class:"fs-5 fs-xl-4 fw-bold text-primary-700 card-title-att mb-4"},ht={class:"text-dark mb-4"},bt={class:"tab-pane fade",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab",tabindex:"0"},_t={class:"row"},pt={class:"w-100 w-lg-60 mb-4"},gt={class:"card-att-img card-att-img-2"},mt=["src","alt"],vt={class:"w-100 w-lg-40"},ft={class:"fs-5 fs-xl-4 fw-bold text-primary-700 card-title-att mb-4"},ut={class:"text-dark"},yt={class:"tab-pane fade",id:"pills-contact",role:"tabpanel","aria-labelledby":"pills-contact-tab",tabindex:"0"},wt={class:"row"},xt={class:"w-100 w-lg-60 mb-4"},kt={class:"card-att-img card-att-img-2"},Ct=["src","alt"],Tt={class:"w-100 w-lg-40"},Dt={class:"fs-5 fs-xl-4 fw-bold text-primary-700 card-title-att mb-4"},Lt={class:"text-dark"},Pt={key:0},qt={class:"d-flex mt-12"},Bt=d(()=>t("div",{class:"w-5 d-none d-xl-flex"},[t("i",{class:"bi bi-geo-alt-fill position-relative fs-5"},[t("div",{class:"line"}),t("i",{class:"bi bi-arrow-down-circle-fill arrow"})])],-1)),St={class:"w-100 w-xl-95 position-relative pe-0 pe-lg-5"},Ut=d(()=>t("h4",{class:"d-flex"},[t("i",{class:"bi bi-geo-fill d-flex d-xl-none me-2 align-items-end"}),_("第二天 ")],-1)),jt=d(()=>t("ul",{class:"nav nav-underline nav-fill mb-4 w-100 w-lg-60",id:"pills-tab",role:"tablist"},[t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link active",id:"pills-home-tab-two","data-bs-toggle":"pill","data-bs-target":"#pills-home-two",type:"button",role:"tab","aria-controls":"pills-home-two","aria-selected":"true"}," 早上 ")]),t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link",id:"pills-profile-tab-two","data-bs-toggle":"pill","data-bs-target":"#pills-profile-two",type:"button",role:"tab","aria-controls":"pills-profile-two","aria-selected":"false"}," 下午1 ")]),t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link",id:"pills-contact-tab-two","data-bs-toggle":"pill","data-bs-target":"#pills-contact-two",type:"button",role:"tab","aria-controls":"pills-contact-two","aria-selected":"false"}," 下午2 ")])],-1)),Ft={class:"tab-content card-att",id:"pills-tabContent"},Et={class:"tab-pane fade show active",id:"pills-home-two",role:"tabpanel","aria-labelledby":"pills-home-tab-two",tabindex:"0"},Vt={class:"row"},Nt={class:"w-100 w-lg-60 mb-4"},At={class:"card-att-img card-att-img-2"},Qt=["src","alt"],Gt={class:"w-100 w-lg-40"},Ht={class:"fs-5 fs-xl-4 fw-bold text-primary-700 card-title-att mb-4"},Mt={class:"text-dark mb-4"},zt={class:"tab-pane fade",id:"pills-profile-two",role:"tabpanel","aria-labelledby":"pills-profile-tab-two",tabindex:"0"},Ot={class:"row"},Yt={class:"w-100 w-lg-60 mb-4"},Jt={class:"card-att-img card-att-img-2"},Kt=["src","alt"],Rt={class:"w-lg-40"},Wt={class:"fs-5 fs-xl-4 fw-bold text-primary-700 card-title-att mb-4"},Xt={class:"text-dark"},Zt={class:"tab-pane fade",id:"pills-contact-two",role:"tabpanel","aria-labelledby":"pills-contact-tab-two",tabindex:"0"},$t={class:"row"},It={class:"w-100 w-lg-60 mb-4"},ta={class:"card-att-img card-att-img-2"},aa=["src","alt"],sa={class:"w-lg-40"},ea={class:"fs-5 fs-xl-4 fw-bold text-primary-700 card-title-att mb-4"},ia={class:"text-dark"},la={key:1},oa={class:"d-flex my-12"},ra=d(()=>t("div",{class:"w-5 d-none d-xl-flex"},[t("i",{class:"bi bi-geo-alt-fill position-relative fs-5"},[t("div",{class:"line"}),t("i",{class:"bi bi-arrow-down-circle-fill arrow"})])],-1)),na={class:"w-100 w-xl-95 position-relative pe-0 pe-lg-5"},da=d(()=>t("h4",{class:"d-flex"},[t("i",{class:"bi bi-geo-fill d-flex d-xl-none me-2 align-items-end"}),_("第三天 ")],-1)),ca=d(()=>t("ul",{class:"nav nav-underline nav-fill mb-4 w-100 w-lg-75",id:"pills-tab",role:"tablist"},[t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link active",id:"pills-home-tab-third","data-bs-toggle":"pill","data-bs-target":"#pills-home-third",type:"button",role:"tab","aria-controls":"pills-home-third","aria-selected":"true"}," 早上 ")]),t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link",id:"pills-profile-tab-third","data-bs-toggle":"pill","data-bs-target":"#pills-profile-third",type:"button",role:"tab","aria-controls":"pills-profile-third","aria-selected":"false"}," 下午1 ")]),t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link",id:"pills-contact-tab-third","data-bs-toggle":"pill","data-bs-target":"#pills-contact-third",type:"button",role:"tab","aria-controls":"pills-contact-third","aria-selected":"false"}," 下午2 ")])],-1)),ha={class:"tab-content card-att",id:"pills-tabContent"},ba={class:"tab-pane fade",id:"pills-home-third",role:"tabpanel","aria-labelledby":"pills-home-tab-third",tabindex:"0"},_a={class:"row"},pa={class:"w-100 w-lg-60 mb-4"},ga={class:"card-att-img card-att-img-2"},ma=["src","alt"],va={class:"w-100 w-lg-40"},fa={class:"fs-5 fs-xl-4 fw-bold text-primary-700 card-title-att mb-4"},ua={class:"text-dark mb-4"},ya={class:"tab-pane fade",id:"pills-profile-third",role:"tabpanel","aria-labelledby":"pills-profile-tab-third",tabindex:"0"},wa={class:"row"},xa={class:"w-100 w-lg-60 mb-4"},ka={class:"card-att-img card-att-img-2"},Ca=["src","alt"],Ta={class:"w-lg-40"},Da={class:"fs-5 fs-xl-4 fw-bold text-primary-700 card-title-att mb-4"},La={class:"text-dark"},Pa={class:"tab-pane fade",id:"pills-contact-third",role:"tabpanel","aria-labelledby":"pills-contact-tab-third",tabindex:"0"},qa={class:"row"},Ba={class:"w-100 w-lg-60 mb-4"},Sa={class:"card-att-img card-att-img-2"},Ua=["src","alt"],ja={class:"w-lg-40"},Fa={class:"fs-5 fs-xl-4 fw-bold text-primary-700 card-title-att mb-4"},Ea={class:"text-dark"},Va={key:0,class:"col-12 col-md-5 col-lg-4 mb-8 mb-md-10 mb-lg-12"},Na=P('<div class="d-flex mb-4" data-v-e54e5da3><span class="placeholder w-25 fs-6" data-v-e54e5da3></span></div><h2 class="fs-3 fs-sm-4 fs-xl-3 mb-6" data-v-e54e5da3><span class="placeholder w-50 fs-4" data-v-e54e5da3></span></h2><span class="fs-4 fs-sm-5 fs-xl-4 mb-2 border-bottom border-primary-400 border-3 text-primary-600" data-v-e54e5da3><i class="bi bi-person-walking me-2" data-v-e54e5da3></i>景點行程 </span><div class="mt-2 mb-6" data-v-e54e5da3><span class="placeholder w-75 fs-5" data-v-e54e5da3></span><span class="placeholder w-75 fs-5" data-v-e54e5da3></span><span class="placeholder w-75 fs-5" data-v-e54e5da3></span></div><div class="d-flex mb-4 flex-column mb-6" data-v-e54e5da3><h5 class="mb-2" data-v-e54e5da3><span class="fs-4 fs-sm-5 fs-xl-4 mb-2 border-bottom border-primary-400 border-3 text-primary-600" data-v-e54e5da3><i class="bi bi-calendar-plus me-2" data-v-e54e5da3></i>預約期間 </span></h5><span class="placeholder w-75 fs-5 mt-2" data-v-e54e5da3></span></div><div class="d-flex mb-6 flex-column" data-v-e54e5da3><h5 class="mb-2" data-v-e54e5da3><span class="fs-4 fs-sm-5 fs-xl-4 mb-2 border-bottom border-primary-400 border-3 text-primary-600" data-v-e54e5da3><i class="bi bi-car-front-fill me-2" data-v-e54e5da3></i>出發時間 </span></h5><h6 class="mt-2" data-v-e54e5da3><span class="placeholder w-75 fs-5 mt-2" data-v-e54e5da3></span></h6></div><div class="d-flex justify-content-between mb-4 align-items-end" data-v-e54e5da3><span class="placeholder w-25" data-v-e54e5da3></span><div class="d-flex flex-sm-column align-items-end justify-content-end" data-v-e54e5da3><span class="placeholder w-25" data-v-e54e5da3></span></div></div><div class="d-flex mb-2" data-v-e54e5da3><button class="btn btn-outline-dark rounded-0" type="button" data-v-e54e5da3><i class="bi bi-dash-lg" data-v-e54e5da3></i></button><input min="1" max="10" type="number" class="form-control text-center rounded-0 border border-dark" readonly data-v-e54e5da3><button class="btn btn-outline-dark rounded-0" type="button" data-v-e54e5da3><i class="bi bi-plus-lg" data-v-e54e5da3></i></button><button class="heart border-0" type="button" data-v-e54e5da3><i class="bi bi-heart" style="font-size:24px;" data-v-e54e5da3></i></button></div><h6 class="mb-2" data-v-e54e5da3><span class="placeholder w-75" data-v-e54e5da3></span></h6><h6 class="mb-5" data-v-e54e5da3><span class="placeholder w-75" data-v-e54e5da3></span></h6><button class="btn-square w-100 fs-5 mb-4" type="button" data-v-e54e5da3>預約旅遊方案</button><button class="btn-square fs-5 w-100" type="button" data-v-e54e5da3>直接結帳</button>',12),Aa=[Na],Qa={key:1,class:"col-12 col-md-5 col-lg-4 mb-8 mb-md-10 mb-lg-12"},Ga={class:"d-flex mb-4"},Ha={class:"badge rounded-pill bg-primary-200 text-primary-600 fw-bold me-1 py-1 px-4 fs-6"},Ma={class:"fs-3 fs-sm-4 fs-xl-3 mb-6 text-primary-700 fw-bold"},za=d(()=>t("span",{class:"fs-4 fs-sm-5 fs-xl-4 mb-2 border-bottom border-primary-400 border-3 text-primary-600"},[t("i",{class:"bi bi-person-walking me-2"}),_("景點行程 ")],-1)),Oa={class:"mt-2 mb-6"},Ya={class:"d-flex mb-4 flex-column mb-6"},Ja=d(()=>t("h5",{class:"mb-2"},[t("span",{class:"fs-4 fs-sm-5 fs-xl-4 mb-2 border-bottom border-primary-400 border-3 text-primary-600"},[t("i",{class:"bi bi-calendar-plus me-2"}),_("預約期間 ")])],-1)),Ka={key:0,class:"mt-2"},Ra={key:1,class:"mt-2 text-danger"},Wa={class:"d-flex mb-6 flex-column"},Xa=d(()=>t("h5",{class:"mb-2"},[t("span",{class:"fs-4 fs-sm-5 fs-xl-4 mb-2 border-bottom border-primary-400 border-3 text-primary-600"},[t("i",{class:"bi bi-car-front-fill me-2"}),_("出發時間 ")])],-1)),Za={class:"mt-2"},$a={class:"d-flex mb-4 flex-column"},Ia=d(()=>t("h5",{class:"mb-2"},[t("span",{class:"fs-4 fs-sm-5 fs-xl-4 mb-2 border-bottom border-primary-400 border-3 text-primary-600"},[t("i",{class:"bi bi-card-list me-2"}),_("旅遊方案概覽 ")])],-1)),ts=d(()=>t("h6",{class:"mt-2"},"適合年齡：6-80歲",-1)),as={class:"mt-2"},ss=d(()=>t("h6",{class:"mt-4"},"所需時間：約10-12小時",-1)),es=d(()=>t("h6",{class:"mt-2"},"交通：當地公車/客運，或渡輪/麵包車(依情況調整)",-1)),is=d(()=>t("h6",{class:"mt-4"}," 特色：深度體驗當地文化與生活，享受悠閒旅行節奏，包含足夠自由時間用於探索、拍照和休息 ",-1)),ls={class:"d-flex justify-content-between mb-4 align-items-end"},os={class:"fs-4 fs-lg-5 text-decoration-line-through text-end"},rs={class:"d-flex flex-sm-column align-items-end justify-content-end"},ns=d(()=>t("p",{class:"fs-6 text-danger fw-bold d-none d-sm-block"},"促銷價",-1)),ds={class:"fs-2 fs-sm-3 fs-lg-4 fs-xl-2 text-danger"},cs={class:"d-flex mb-2"},hs=["disabled","onClick"],bs={key:0,class:"spinner-border spinner-grow-sm",role:"status"},_s=d(()=>t("i",{class:"bi bi-dash-lg"},null,-1)),ps=["disabled"],gs=["onClick"],ms={key:0,class:"spinner-border spinner-grow-sm",role:"status"},vs=d(()=>t("i",{class:"bi bi-plus-lg"},null,-1)),fs=["onClick"],us={class:"mb-2"},ys={class:"text-danger"},ws={key:0,class:"mb-5"},xs=d(()=>t("span",{class:"text-danger"},"0",-1)),ks={class:"text-danger"},Cs=["onClick"],Ts={key:0,class:"spinner-border spinner-grow-sm",role:"status"},Ds={key:2,class:"btn btn-danger w-100 fs-5 mb-4 disabled btn-danger-rounded",type:"button"},Ls=["onClick"],Ps={key:0,class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"},qs=P('<div class="card card-att h-100" data-v-e54e5da3><span class="tag text-white placeholder-glow" data-v-e54e5da3></span><div class="heart" data-v-e54e5da3><i class="bi bi-heart heart-click" data-heartStatus="false" data-v-e54e5da3></i></div><img src="https://raw.githubusercontent.com/GinaTung/2024-southerntravelwebsite-fin/dev/public/products/duck.jpg" class="img-fluid opacity-25 first-img z-index-1" alt="Placeholder Image" data-v-e54e5da3><div class="card-body" data-v-e54e5da3><span class="placeholder w-25" data-v-e54e5da3></span><div class="col-12 placeholder-glow" data-v-e54e5da3><span class="placeholder w-50" data-v-e54e5da3></span><span class="placeholder w-60" data-v-e54e5da3></span></div></div><div class="card-footer text-end border-0 pt-0 pb-3 placeholder-glow" data-v-e54e5da3><div class="d-flex justify-content-between" data-v-e54e5da3><span class="placeholder w-25" data-v-e54e5da3></span><span class="placeholder w-25" data-v-e54e5da3></span></div></div></div>',1),Bs=[qs];function Ss(s,e,r,h,i,c){const p=T("BannerBlock"),D=T("router-link"),q=T("LikeBlock");return o(),n(v,null,[k(p),t("div",G,[t("nav",H,[t("ol",M,[t("li",z,[k(D,{to:"/",exact:"","active-class":"active-link"},{default:L(()=>[_(" 首頁 ")]),_:1})]),t("li",O,[k(D,{exact:"","active-class":"active-link",to:{path:"/TouristPackage",query:{category:"全部",page:"1"}}},{default:L(()=>[_(" 南部旅遊方案 ")]),_:1})]),t("li",Y,[y(t("a",{onClick:e[0]||(e[0]=a=>c.redirectToA("台南")),class:"navbar-brand"},"台南",512),[[C,i.category==="台南"]]),y(t("a",{onClick:e[1]||(e[1]=a=>c.redirectToA("嘉義")),class:"navbar-brand"},"嘉義",512),[[C,i.category==="嘉義"]]),y(t("a",{onClick:e[2]||(e[2]=a=>c.redirectToA("高雄")),class:"navbar-brand"},"高雄",512),[[C,i.category==="高雄"]])]),t("li",J,l(i.packageTitle),1)])]),(o(!0),n(v,null,w(i.enabledProducts,a=>(o(),n("div",{class:"row h-100 flex-wrap-reverse flex-md-nowrap",key:a.id},[t("div",K,[i.isLoading?(o(),n("div",R,Z)):(o(),n(v,{key:1},[t("div",$,[I,t("div",tt,[at,st,t("div",et,[t("div",it,[t("div",lt,[t("div",ot,[t("div",rt,[t("img",{src:a.imagesUrl[0],class:"img-fluid pb-4 pb-lg-0",style:{cursor:"pointer"},alt:a.itinerary_data[0].itinerary_first_day_am_title},null,8,nt)])]),t("div",dt,[t("h4",ct,l(a.itinerary_data[0].itinerary_first_day_am_title),1),t("p",ht,l(a.itinerary_data[0].itinerary_first_day_am_content),1)])])]),t("div",bt,[t("div",_t,[t("div",pt,[t("div",gt,[t("img",{src:a.imagesUrl[1],class:"img-fluid pb-4 pb-lg-0",style:{cursor:"pointer"},alt:a.itinerary_data[0].itinerary_first_day_pm_title},null,8,mt)])]),t("div",vt,[t("h4",ft,l(a.itinerary_data[0].itinerary_first_day_pm_title),1),t("p",ut,l(a.itinerary_data[0].itinerary_first_day_pm_content),1)])])]),t("div",yt,[t("div",wt,[t("div",xt,[t("div",kt,[t("img",{src:a.imagesUrl[2],class:"img-fluid pb-4 pb-lg-0",style:{cursor:"pointer"},alt:a.itinerary_data[0].itinerary_first_day_pm_title2},null,8,Ct)])]),t("div",Tt,[t("h4",Dt,l(a.itinerary_data[0].itinerary_first_day_pm_title2),1),t("p",Lt,l(a.itinerary_data[0].itinerary_first_day_pm_content2),1)])])])])])]),a.itinerary_data.length>1?(o(),n("div",Pt,[t("div",qt,[Bt,t("div",St,[Ut,jt,t("div",Ft,[t("div",Et,[t("div",Vt,[t("div",Nt,[t("div",At,[t("img",{src:a.imagesUrl[3],class:"img-fluid pb-4 pb-lg-0",style:{cursor:"pointer"},alt:a.itinerary_data[1].itinerary_second_day_am_title},null,8,Qt)])]),t("div",Gt,[t("h4",Ht,l(a.itinerary_data[1].itinerary_second_day_am_title),1),t("p",Mt,l(a.itinerary_data[1].itinerary_second_day_am_content),1)])])]),t("div",zt,[t("div",Ot,[t("div",Yt,[t("div",Jt,[t("img",{src:a.imagesUrl[4],class:"img-fluid pb-4 pb-lg-0",style:{cursor:"pointer"},alt:a.itinerary_data[1].itinerary_second_day_pm_title},null,8,Kt)])]),t("div",Rt,[t("h4",Wt,l(a.itinerary_data[1].itinerary_second_day_pm_title),1),t("p",Xt,l(a.itinerary_data[1].itinerary_second_day_pm_content),1)])])]),t("div",Zt,[t("div",$t,[t("div",It,[t("div",ta,[t("img",{src:a.imagesUrl[5],class:"img-fluid pb-4 pb-lg-0",style:{cursor:"pointer"},alt:a.itinerary_data[1].itinerary_second_day_pm_title2},null,8,aa)])]),t("div",sa,[t("h4",ea,l(a.itinerary_data[1].itinerary_second_day_pm_title2),1),t("p",ia,l(a.itinerary_data[1].itinerary_second_day_pm_content2),1)])])])])])])])):f("",!0),a.itinerary_data.length>2?(o(),n("div",la,[t("div",oa,[ra,t("div",na,[da,ca,t("div",ha,[t("div",ba,[t("div",_a,[t("div",pa,[t("div",ga,[t("img",{src:a.imagesUrl[6],class:"img-fluid pb-4 pb-lg-0",style:{cursor:"pointer"},alt:a.itinerary_data[2].itinerary_third_day_am_title},null,8,ma)])]),t("div",va,[t("h4",fa,l(a.itinerary_data[2].itinerary_third_day_am_title),1),t("p",ua,l(a.itinerary_data[2].itinerary_third_day_am_content),1)])])]),t("div",ya,[t("div",wa,[t("div",xa,[t("div",ka,[t("img",{src:a.imagesUrl[7],class:"img-fluid pb-4 pb-lg-0",style:{cursor:"pointer"},alt:a.itinerary_data[2].itinerary_third_day_pm_title},null,8,Ca)])]),t("div",Ta,[t("h4",Da,l(a.itinerary_data[2].itinerary_third_day_pm_title),1),t("p",La,l(a.itinerary_data[2].itinerary_third_day_pm_content),1)])])]),t("div",Pa,[t("div",qa,[t("div",Ba,[t("div",Sa,[t("img",{src:a.imagesUrl[8],class:"img-fluid pb-4 pb-lg-0",style:{cursor:"pointer"},alt:a.itinerary_data[2].itinerary_third_day_pm_title2},null,8,Ua)])]),t("div",ja,[t("h4",Fa,l(a.itinerary_data[2].itinerary_third_day_pm_title2),1),t("p",Ea,l(a.itinerary_data[2].itinerary_third_day_pm_content2),1)])])])])])])])):f("",!0)],64))]),i.isLoading?(o(),n("div",Va,Aa)):(o(),n("div",Qa,[t("div",Ga,[t("span",Ha,l(i.category),1)]),t("h2",Ma,l(i.packageTitle),1),za,t("div",Oa,[(o(!0),n(v,null,w(i.newProductsContent,(g,B)=>(o(),n("div",{key:B+123},[(o(!0),n(v,null,w(g.content,(S,u)=>(o(),n("p",{key:u,class:x({"mb-3":u===2,"ps-10":u!==0&&u!==3})},l(S),3))),128))]))),128))]),t("div",Ya,[Ja,i.currentDate<=a.endDate?(o(),n("h6",Ka,l(a.startDate)+" 至 "+l(a.endDate),1)):(o(),n("h5",Ra,"預約時間已截止"))]),t("div",Wa,[Xa,t("h6",Za,l(a.goStartDate)+" 至 "+l(a.goEndDate),1)]),t("div",$a,[Ia,ts,t("h6",as,"集合地點與時間："+l(a.category)+"火車站，早上8點",1),ss,es,is]),t("div",ls,[t("p",os," NT"+l(c.thousand(a.origin_price)),1),t("div",rs,[ns,t("p",ds," NT"+l(c.thousand(a.price)),1)])]),t("div",cs,[t("button",{class:"btn btn-outline-dark rounded-0",type:"button",disabled:i.quantity===1,onClick:g=>c.decrementQuantity(a.id)},[i.status.loadingItem4===a.id?(o(),n("span",bs)):f("",!0),_s],8,hs),y(t("input",{min:"1",max:"10",type:"number",disabled:i.quantity>a.max_travelers,class:"form-control text-center rounded-0 border border-dark","onUpdate:modelValue":e[3]||(e[3]=g=>i.quantity=g),readonly:""},null,8,ps),[[V,i.quantity]]),t("button",{class:"btn btn-outline-dark rounded-0",type:"button",onClick:g=>c.incrementQuantity(a.id,a.max_travelers)},[i.status.loadingItem2===a.id?(o(),n("span",ms)):f("",!0),vs],8,gs),t("button",{type:"button",class:"btn-outline-cerulean rounded-0 ms-2 p-2",onClick:g=>c.toggleFavorite(a.id,i.category,i.packageTitle,a.imageUrl)},[t("i",{class:x(["bi",{"bi-heart-fill":i.isFavorite[a.id],"bi-heart":!i.isFavorite[a.id]}])},null,2)],8,fs)]),t("h6",us,[_(" 注意： "),t("span",ys," 至少3位成團，最多"+l(a.max_travelers)+"位出遊 ",1)]),i.currentDate<=a.endDate?(o(),n("h6",ws,[_(" 目前已有 "),xs,_(" 位預約，剩 "),t("span",ks,l(a.max_travelers),1),_(" 位可預約 ")])):f("",!0),i.currentDate<=i.endDate?(o(),n("button",{key:1,class:x(["btn-square w-100 fs-5 mb-4",{"disabled-btn":i.currentDate>i.endDate}]),type:"button",onClick:g=>c.addToCart(a.id,i.quantity,a.price)},[i.status.loadingItem3===a.id?(o(),n("span",Ts)):f("",!0),_(" 預約旅遊方案 ")],10,Cs)):(o(),n("button",Ds," 預約時間截止 ")),t("button",{class:x(["btn-square fs-5 w-100",{"disabled-btn":i.currentDate>i.endDate||i.newCarts.length===0}]),type:"button",onClick:g=>c.saveCardId(a.id,i.quantity,a.price)}," 直接結帳 ",10,Ls)]))]))),128)),i.isLoading?(o(),n("div",Ps,[(o(),n(v,null,w(3,a=>t("div",{key:a,class:"col"},Bs)),64))])):(o(),E(q,{key:1,adCategoryTitle:"packages",token:i.token,"user-id":i.userId,"current-date":i.currentDate},null,8,["token","user-id","current-date"]))])],64)}const Ns=F(Q,[["render",Ss],["__scopeId","data-v-e54e5da3"]]);export{Ns as default};
