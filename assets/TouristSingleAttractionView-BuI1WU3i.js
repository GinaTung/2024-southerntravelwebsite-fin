import{e as ne,b as Z,c as re,d as le,g as oe,i as ce,f as de,n as G,h as U,S as te,a as se,N as ie}from"./navigation-UYSY6nWc.js";import{s as E}from"./sweetAlert-VBzzWPiK.js";import{_ as Q,l as pe,o as w,c as x,b as P,w as V,F as D,h as H,g as K,a as o,r as F,t as z,f as X,v as Y,n as ue,d as ee,k as J,p as me,i as fe}from"./index-YauCT9D4.js";import{B as he}from"./BannerBlock-EidiQPSi.js";function R(a){return a===void 0&&(a=""),`.${a.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function ge(a){let{swiper:e,extendParams:y,on:c,emit:l}=a;const u="swiper-pagination";y({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:s=>s,formatFractionTotal:s=>s,bulletClass:`${u}-bullet`,bulletActiveClass:`${u}-bullet-active`,modifierClass:`${u}-`,currentClass:`${u}-current`,totalClass:`${u}-total`,hiddenClass:`${u}-hidden`,progressbarFillClass:`${u}-progressbar-fill`,progressbarOppositeClass:`${u}-progressbar-opposite`,clickableClass:`${u}-clickable`,lockClass:`${u}-lock`,horizontalClass:`${u}-horizontal`,verticalClass:`${u}-vertical`,paginationDisabledClass:`${u}-disabled`}}),e.pagination={el:null,bullets:[]};let A,T=0;const d=s=>(Array.isArray(s)||(s=[s].filter(t=>!!t)),s);function r(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function i(s,t){const{bulletActiveClass:n}=e.params.pagination;s&&(s=s[`${t==="prev"?"previous":"next"}ElementSibling`],s&&(s.classList.add(`${n}-${t}`),s=s[`${t==="prev"?"previous":"next"}ElementSibling`],s&&s.classList.add(`${n}-${t}-${t}`)))}function h(s){const t=s.target.closest(R(e.params.pagination.bulletClass));if(!t)return;s.preventDefault();const n=Z(t)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===n)return;const m=e.getSlideIndexByData(n),_=e.getSlideIndexByData(e.realIndex);m>e.slides.length-e.loopedSlides&&e.loopFix({direction:m>_?"next":"prev",activeSlideIndex:m,slideTo:!1}),e.slideToLoop(n)}else e.slideTo(n)}function g(){const s=e.rtl,t=e.params.pagination;if(r())return;let n=e.pagination.el;n=d(n);let m,_;const B=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,L=e.params.loop?Math.ceil(B/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(_=e.previousRealIndex||0,m=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(m=e.snapIndex,_=e.previousSnapIndex):(_=e.previousIndex||0,m=e.activeIndex||0),t.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const f=e.pagination.bullets;let $,S,q;if(t.dynamicBullets&&(A=ne(f[0],e.isHorizontal()?"width":"height",!0),n.forEach(C=>{C.style[e.isHorizontal()?"width":"height"]=`${A*(t.dynamicMainBullets+4)}px`}),t.dynamicMainBullets>1&&_!==void 0&&(T+=m-(_||0),T>t.dynamicMainBullets-1?T=t.dynamicMainBullets-1:T<0&&(T=0)),$=Math.max(m-T,0),S=$+(Math.min(f.length,t.dynamicMainBullets)-1),q=(S+$)/2),f.forEach(C=>{const I=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(M=>`${t.bulletActiveClass}${M}`)].map(M=>typeof M=="string"&&M.includes(" ")?M.split(" "):M).flat();C.classList.remove(...I)}),n.length>1)f.forEach(C=>{const I=Z(C);I===m?C.classList.add(...t.bulletActiveClass.split(" ")):e.isElement&&C.setAttribute("part","bullet"),t.dynamicBullets&&(I>=$&&I<=S&&C.classList.add(...`${t.bulletActiveClass}-main`.split(" ")),I===$&&i(C,"prev"),I===S&&i(C,"next"))});else{const C=f[m];if(C&&C.classList.add(...t.bulletActiveClass.split(" ")),e.isElement&&f.forEach((I,M)=>{I.setAttribute("part",M===m?"bullet-active":"bullet")}),t.dynamicBullets){const I=f[$],M=f[S];for(let j=$;j<=S;j+=1)f[j]&&f[j].classList.add(...`${t.bulletActiveClass}-main`.split(" "));i(I,"prev"),i(M,"next")}}if(t.dynamicBullets){const C=Math.min(f.length,t.dynamicMainBullets+4),I=(A*C-A)/2-q*A,M=s?"right":"left";f.forEach(j=>{j.style[e.isHorizontal()?M:"top"]=`${I}px`})}}n.forEach((f,$)=>{if(t.type==="fraction"&&(f.querySelectorAll(R(t.currentClass)).forEach(S=>{S.textContent=t.formatFractionCurrent(m+1)}),f.querySelectorAll(R(t.totalClass)).forEach(S=>{S.textContent=t.formatFractionTotal(L)})),t.type==="progressbar"){let S;t.progressbarOpposite?S=e.isHorizontal()?"vertical":"horizontal":S=e.isHorizontal()?"horizontal":"vertical";const q=(m+1)/L;let C=1,I=1;S==="horizontal"?C=q:I=q,f.querySelectorAll(R(t.progressbarFillClass)).forEach(M=>{M.style.transform=`translate3d(0,0,0) scaleX(${C}) scaleY(${I})`,M.style.transitionDuration=`${e.params.speed}ms`})}t.type==="custom"&&t.renderCustom?(f.innerHTML=t.renderCustom(e,m+1,L),$===0&&l("paginationRender",f)):($===0&&l("paginationRender",f),l("paginationUpdate",f)),e.params.watchOverflow&&e.enabled&&f.classList[e.isLocked?"add":"remove"](t.lockClass)})}function p(){const s=e.params.pagination;if(r())return;const t=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let n=e.pagination.el;n=d(n);let m="";if(s.type==="bullets"){let _=e.params.loop?Math.ceil(t/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&_>t&&(_=t);for(let B=0;B<_;B+=1)s.renderBullet?m+=s.renderBullet.call(e,B,s.bulletClass):m+=`<${s.bulletElement} ${e.isElement?'part="bullet"':""} class="${s.bulletClass}"></${s.bulletElement}>`}s.type==="fraction"&&(s.renderFraction?m=s.renderFraction.call(e,s.currentClass,s.totalClass):m=`<span class="${s.currentClass}"></span> / <span class="${s.totalClass}"></span>`),s.type==="progressbar"&&(s.renderProgressbar?m=s.renderProgressbar.call(e,s.progressbarFillClass):m=`<span class="${s.progressbarFillClass}"></span>`),e.pagination.bullets=[],n.forEach(_=>{s.type!=="custom"&&(_.innerHTML=m||""),s.type==="bullets"&&e.pagination.bullets.push(..._.querySelectorAll(R(s.bulletClass)))}),s.type!=="custom"&&l("paginationRender",n[0])}function v(){e.params.pagination=re(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const s=e.params.pagination;if(!s.el)return;let t;typeof s.el=="string"&&e.isElement&&(t=e.el.querySelector(s.el)),!t&&typeof s.el=="string"&&(t=[...document.querySelectorAll(s.el)]),t||(t=s.el),!(!t||t.length===0)&&(e.params.uniqueNavElements&&typeof s.el=="string"&&Array.isArray(t)&&t.length>1&&(t=[...e.el.querySelectorAll(s.el)],t.length>1&&(t=t.filter(n=>le(n,".swiper")[0]===e.el)[0])),Array.isArray(t)&&t.length===1&&(t=t[0]),Object.assign(e.pagination,{el:t}),t=d(t),t.forEach(n=>{s.type==="bullets"&&s.clickable&&n.classList.add(s.clickableClass),n.classList.add(s.modifierClass+s.type),n.classList.add(e.isHorizontal()?s.horizontalClass:s.verticalClass),s.type==="bullets"&&s.dynamicBullets&&(n.classList.add(`${s.modifierClass}${s.type}-dynamic`),T=0,s.dynamicMainBullets<1&&(s.dynamicMainBullets=1)),s.type==="progressbar"&&s.progressbarOpposite&&n.classList.add(s.progressbarOppositeClass),s.clickable&&n.addEventListener("click",h),e.enabled||n.classList.add(s.lockClass)}))}function O(){const s=e.params.pagination;if(r())return;let t=e.pagination.el;t&&(t=d(t),t.forEach(n=>{n.classList.remove(s.hiddenClass),n.classList.remove(s.modifierClass+s.type),n.classList.remove(e.isHorizontal()?s.horizontalClass:s.verticalClass),s.clickable&&n.removeEventListener("click",h)})),e.pagination.bullets&&e.pagination.bullets.forEach(n=>n.classList.remove(...s.bulletActiveClass.split(" ")))}c("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const s=e.params.pagination;let{el:t}=e.pagination;t=d(t),t.forEach(n=>{n.classList.remove(s.horizontalClass,s.verticalClass),n.classList.add(e.isHorizontal()?s.horizontalClass:s.verticalClass)})}),c("init",()=>{e.params.pagination.enabled===!1?b():(v(),p(),g())}),c("activeIndexChange",()=>{typeof e.snapIndex>"u"&&g()}),c("snapIndexChange",()=>{g()}),c("snapGridLengthChange",()=>{p(),g()}),c("destroy",()=>{O()}),c("enable disable",()=>{let{el:s}=e.pagination;s&&(s=d(s),s.forEach(t=>t.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),c("lock unlock",()=>{g()}),c("click",(s,t)=>{const n=t.target,m=d(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&m&&m.length>0&&!n.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&n===e.navigation.nextEl||e.navigation.prevEl&&n===e.navigation.prevEl))return;const _=m[0].classList.contains(e.params.pagination.hiddenClass);l(_===!0?"paginationShow":"paginationHide"),m.forEach(B=>B.classList.toggle(e.params.pagination.hiddenClass))}});const k=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:s}=e.pagination;s&&(s=d(s),s.forEach(t=>t.classList.remove(e.params.pagination.paginationDisabledClass))),v(),p(),g()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:s}=e.pagination;s&&(s=d(s),s.forEach(t=>t.classList.add(e.params.pagination.paginationDisabledClass))),O()};Object.assign(e.pagination,{enable:k,disable:b,render:p,update:g,init:v,destroy:O})}function be(a){let{swiper:e,extendParams:y,on:c}=a;y({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let l=!1,u=!1;e.thumbs={swiper:null};function A(){const r=e.thumbs.swiper;if(!r||r.destroyed)return;const i=r.clickedIndex,h=r.clickedSlide;if(h&&h.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof i>"u"||i===null)return;let g;r.params.loop?g=parseInt(r.clickedSlide.getAttribute("data-swiper-slide-index"),10):g=i,e.params.loop?e.slideToLoop(g):e.slideTo(g)}function T(){const{thumbs:r}=e.params;if(l)return!1;l=!0;const i=e.constructor;if(r.swiper instanceof i)e.thumbs.swiper=r.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(ce(r.swiper)){const h=Object.assign({},r.swiper);Object.assign(h,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new i(h),u=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",A),!0}function d(r){const i=e.thumbs.swiper;if(!i||i.destroyed)return;const h=i.params.slidesPerView==="auto"?i.slidesPerViewDynamic():i.params.slidesPerView;let g=1;const p=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(g=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(g=1),g=Math.floor(g),i.slides.forEach(k=>k.classList.remove(p)),i.params.loop||i.params.virtual&&i.params.virtual.enabled)for(let k=0;k<g;k+=1)de(i.slidesEl,`[data-swiper-slide-index="${e.realIndex+k}"]`).forEach(b=>{b.classList.add(p)});else for(let k=0;k<g;k+=1)i.slides[e.realIndex+k]&&i.slides[e.realIndex+k].classList.add(p);const v=e.params.thumbs.autoScrollOffset,O=v&&!i.params.loop;if(e.realIndex!==i.realIndex||O){const k=i.activeIndex;let b,s;if(i.params.loop){const t=i.slides.filter(n=>n.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];b=i.slides.indexOf(t),s=e.activeIndex>e.previousIndex?"next":"prev"}else b=e.realIndex,s=b>e.previousIndex?"next":"prev";O&&(b+=s==="next"?v:-1*v),i.visibleSlidesIndexes&&i.visibleSlidesIndexes.indexOf(b)<0&&(i.params.centeredSlides?b>k?b=b-Math.floor(h/2)+1:b=b+Math.floor(h/2)-1:b>k&&i.params.slidesPerGroup,i.slideTo(b,r?0:void 0))}}c("beforeInit",()=>{const{thumbs:r}=e.params;if(!(!r||!r.swiper))if(typeof r.swiper=="string"||r.swiper instanceof HTMLElement){const i=oe(),h=()=>{const p=typeof r.swiper=="string"?i.querySelector(r.swiper):r.swiper;if(p&&p.swiper)r.swiper=p.swiper,T(),d(!0);else if(p){const v=O=>{r.swiper=O.detail[0],p.removeEventListener("init",v),T(),d(!0),r.swiper.update(),e.update()};p.addEventListener("init",v)}return p},g=()=>{if(e.destroyed)return;h()||requestAnimationFrame(g)};requestAnimationFrame(g)}else T(),d(!0)}),c("slideChange update resize observerUpdate",()=>{d()}),c("setTransition",(r,i)=>{const h=e.thumbs.swiper;!h||h.destroyed||h.setTransition(i)}),c("beforeDestroy",()=>{const r=e.thumbs.swiper;!r||r.destroyed||u&&r.destroy()}),Object.assign(e.thumbs,{init:T,update:d})}function ae(a){let{swiper:e,extendParams:y,emit:c,once:l}=a;y({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function u(){if(e.params.cssMode)return;const d=e.getTranslate();e.setTranslate(d),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function A(){if(e.params.cssMode)return;const{touchEventsData:d,touches:r}=e;d.velocities.length===0&&d.velocities.push({position:r[e.isHorizontal()?"startX":"startY"],time:d.touchStartTime}),d.velocities.push({position:r[e.isHorizontal()?"currentX":"currentY"],time:G()})}function T(d){let{currentPos:r}=d;if(e.params.cssMode)return;const{params:i,wrapperEl:h,rtlTranslate:g,snapGrid:p,touchEventsData:v}=e,k=G()-v.touchStartTime;if(r<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(r>-e.maxTranslate()){e.slides.length<p.length?e.slideTo(p.length-1):e.slideTo(e.slides.length-1);return}if(i.freeMode.momentum){if(v.velocities.length>1){const L=v.velocities.pop(),f=v.velocities.pop(),$=L.position-f.position,S=L.time-f.time;e.velocity=$/S,e.velocity/=2,Math.abs(e.velocity)<i.freeMode.minimumVelocity&&(e.velocity=0),(S>150||G()-L.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=i.freeMode.momentumVelocityRatio,v.velocities.length=0;let b=1e3*i.freeMode.momentumRatio;const s=e.velocity*b;let t=e.translate+s;g&&(t=-t);let n=!1,m;const _=Math.abs(e.velocity)*20*i.freeMode.momentumBounceRatio;let B;if(t<e.maxTranslate())i.freeMode.momentumBounce?(t+e.maxTranslate()<-_&&(t=e.maxTranslate()-_),m=e.maxTranslate(),n=!0,v.allowMomentumBounce=!0):t=e.maxTranslate(),i.loop&&i.centeredSlides&&(B=!0);else if(t>e.minTranslate())i.freeMode.momentumBounce?(t-e.minTranslate()>_&&(t=e.minTranslate()+_),m=e.minTranslate(),n=!0,v.allowMomentumBounce=!0):t=e.minTranslate(),i.loop&&i.centeredSlides&&(B=!0);else if(i.freeMode.sticky){let L;for(let f=0;f<p.length;f+=1)if(p[f]>-t){L=f;break}Math.abs(p[L]-t)<Math.abs(p[L-1]-t)||e.swipeDirection==="next"?t=p[L]:t=p[L-1],t=-t}if(B&&l("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(g?b=Math.abs((-t-e.translate)/e.velocity):b=Math.abs((t-e.translate)/e.velocity),i.freeMode.sticky){const L=Math.abs((g?-t:t)-e.translate),f=e.slidesSizesGrid[e.activeIndex];L<f?b=i.speed:L<2*f?b=i.speed*1.5:b=i.speed*2.5}}else if(i.freeMode.sticky){e.slideToClosest();return}i.freeMode.momentumBounce&&n?(e.updateProgress(m),e.setTransition(b),e.setTranslate(t),e.transitionStart(!0,e.swipeDirection),e.animating=!0,U(h,()=>{!e||e.destroyed||!v.allowMomentumBounce||(c("momentumBounce"),e.setTransition(i.speed),setTimeout(()=>{e.setTranslate(m),U(h,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(c("_freeModeNoMomentumRelease"),e.updateProgress(t),e.setTransition(b),e.setTranslate(t),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,U(h,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(t),e.updateActiveIndex(),e.updateSlidesClasses()}else if(i.freeMode.sticky){e.slideToClosest();return}else i.freeMode&&c("_freeModeNoMomentumRelease");(!i.freeMode.momentum||k>=i.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:u,onTouchMove:A,onTouchEnd:T}})}const ve="https://two024-south-json-server-vercel.onrender.com",ye={components:{Swiper:te,SwiperSlide:se},data(){return{attractionTitle:"",attractions:[],enabledAttractions:[],imagesUrl:""}},methods:{getAttractions(){this.axios.get(`${ve}/attractions`).then(a=>{this.attractions=a.data,this.attractions.forEach(e=>{e.is_enabled===1&&this.attractionTitle===e.title&&this.enabledAttractions.push(e)}),this.imagesUrl=this.enabledAttractions[0].imagesUrl}).catch(a=>{E.threeLayerCheckType("error","取得景點資料失敗")})}},setup(){const a=pe(null);return{thumbsSwiper:a,setThumbsSwiper:y=>{a.value=y},modules:[ae,ie,be]}},mounted(){this.attractionTitle=this.$route.params.title,this.getAttractions()}},we=["src"],Te=["src"];function _e(a,e,y,c,l,u){const A=F("swiper-slide"),T=F("swiper");return w(),x(D,null,[P(T,{spaceBetween:10,navigation:!0,thumbs:{swiper:c.thumbsSwiper},modules:c.modules,class:"mySwiper2"},{default:V(()=>[(w(!0),x(D,null,H(l.imagesUrl,(d,r)=>(w(),K(A,{key:r+123},{default:V(()=>[o("img",{src:d,class:"img-fluid"},null,8,we)]),_:2},1024))),128))]),_:1},8,["thumbs","modules"]),P(T,{onSwiper:c.setThumbsSwiper,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:c.modules,class:"mySwiper3"},{default:V(()=>[(w(!0),x(D,null,H(l.imagesUrl,(d,r)=>(w(),K(A,{key:r+123},{default:V(()=>[o("img",{src:d,class:"img-fluid"},null,8,Te)]),_:2},1024))),128))]),_:1},8,["onSwiper","modules"])],64)}const xe=Q(ye,[["render",_e],["__scopeId","data-v-9a41bb9f"]]),Ce="https://two024-south-json-server-vercel.onrender.com",ke={components:{Swiper:te,SwiperSlide:se},props:["adCategoryTitle"],data(){return{attractionTitle:"",attractions:[],enabledAttractions:[],adTitle:{sweet:"猜你喜歡吃甜甜",taste:"邀請你來嚐口感",spices:"美味氣氛隨你加"}}},methods:{getAttractions(){this.adCategoryTitle==="sweet"&&this.axios.get(`${Ce}/attractions`).then(a=>{this.attractions=a.data,this.attractions.forEach(e=>{e.is_enabled===1&&this.enabledAttractions.push(e)}),console.log(this.enabledAttractions)}).catch(a=>{E.threeLayerCheckType("error","取得景點資料失敗")})}},setup(){return{modules:[ae,ge,ie]}},mounted(){this.attractionTitle=this.$route.params.title,this.getAttractions()}},Se={class:"mt-10"},Ae={class:"card"},Le={class:"tag text-white"},Ie=["src"],Me={class:"card-body"},$e={class:"fs-5 fs-xl-4 fw-bold text-primary-700 text-center"},Be=o("div",{class:"tag-yellow2"},"123",-1);function Ee(a,e,y,c,l,u){const A=F("swiper-slide"),T=F("swiper");return w(),x("div",Se,[o("h2",null,z(l.adTitle[y.adCategoryTitle]),1),P(T,{slidesPerView:3,spaceBetween:15,navigation:!0,pagination:{clickable:!0},modules:c.modules,class:"mySwiper4"},{default:V(()=>[(w(!0),x(D,null,H(l.enabledAttractions,(d,r)=>(w(),K(A,{key:r+123},{default:V(()=>[o("div",Ae,[o("span",Le,z(d.category),1),o("img",{src:d.imageUrl,class:"",alt:"attractionItem.title"},null,8,Ie),o("div",null,[o("div",null,[o("div",Me,[o("h5",$e,z(d.title),1),Be])])])])]),_:2},1024))),128))]),_:1},8,["modules"])])}const Pe=Q(ke,[["render",Ee]]),N="https://two024-south-json-server-vercel.onrender.com",De={components:{singleAttraction:xe,BannerBlock:he,LikeBlock:Pe},data(){return{category:"",attractionTitle:"",attractions:[],enabledAttractions:[],newAttractionsContent:"",newAttractionsTimeOpen:"",attractionId:"",heartData:[],isFavorite:{},userId:"",token:"",isLoading:!1}},methods:{redirectToA(a){this.$router.push({path:"/TouristAttractions",query:{category:a}})},getHeartData(){this.axios.get(`${N}/hearts`).then(a=>{a.data.forEach(e=>{e.userId===this.userId&&e.tag==="旅遊景點"&&(this.isFavorite[e.product]=!0)})}).catch(a=>{E.threeLayerCheckType("error","取得愛心收藏資料失敗")})},toggleFavorite(a,e,y){this.token?this.axios.get(`${N}/hearts`).then(c=>{const l=c.data.find(u=>u.product===a&&u.userId===this.userId&&u.tag==="旅遊景點");l?this.axios.delete(`${N}/hearts/${l.id}`).then(u=>{this.isFavorite[a]=!1,E.threeLayerCheckType("success",`取消收藏 ${y} 成功`),this.getHeartData()}).catch(u=>{E.threeLayerCheckType("error","取消收藏資料失敗")}):this.axios.post(`${N}/hearts`,{product:a,category:e,title:y,userId:this.userId,tag:"旅遊景點"}).then(u=>{this.isFavorite[a]=!0,E.threeLayerCheckType("success",`已加入收藏 ${y} 成功`),this.getHeartData()}).catch(u=>{E.threeLayerCheckType("error","收藏資料失敗")})}).catch(c=>{E.threeLayerCheckType("error","取得愛心收藏資料失敗")}):E.threeLayerCheckType("warning","請登入會員後，才能加入收藏")},getAttractions(){this.axios.get(`${N}/attractions`).then(a=>{this.attractions=a.data,this.attractions.forEach(e=>{e.is_enabled===1&&this.attractionTitle===e.title&&(this.enabledAttractions.push(e),this.attractionId=e.id,this.isLoading=!1)}),this.getNewText(),this.getnewAttractionsTimeOpen()}).catch(()=>{E.threeLayerCheckType("error","取得景點資料失敗")})},getNewText(){const a={};this.attractions.forEach(e=>{e.content&&e.content.split(";").forEach(c=>{const l=c.trim();a[e.id]||(a[e.id]=[]),a[e.id].push(l)})}),this.newProductsContent=Object.entries(a).map(([e,y])=>({id:e,content:y}))},getnewAttractionsTimeOpen(){const a={};this.attractions.forEach(e=>{e.content&&e.timeOpen.split(";").forEach(c=>{const l=c.trim();a[e.id]||(a[e.id]=[]),a[e.id].push(l)})}),this.newAttractionsTimeOpen=Object.entries(a).map(([e,y])=>({id:e,content:y}))},getCookie(a){const e=document.cookie.split(";");for(let y of e){const[c,l]=y.trim().split("=");if(c===a)return l}return null}},mounted(){this.category=this.$route.params.category,this.attractionTitle=this.$route.params.title;const a=this.getCookie("userId"),e=this.getCookie("hexTokenU");this.userId=a*1,this.token=e,this.isLoading=!0,this.getAttractions(),this.getHeartData(),window.scrollTo(0,0)}},W=a=>(me("data-v-aaf74a62"),a=a(),fe(),a),Oe={class:"container py-10 py-lg-30 px-lg-20"},ze={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb",class:"pb-5 pb-lg-15"},Fe={class:"breadcrumb mb-0 fs-5"},He={class:"breadcrumb-item"},Ve={class:"breadcrumb-item"},je={class:"breadcrumb-item"},qe={class:"breadcrumb-item"},Re={class:"intr-title d-flex align-items-center mb-4 fs-3 border-start border-primary-500 border-3"},Ne={class:"fs-3 me-2 fw-bold ps-3"},Ge={class:"fs-3 me-4 fw-bold"},Ue={key:0},Xe={class:"tourist-intr-content my-lg-10 my-5"},Ye={class:"mb-8"},Je=W(()=>o("p",{class:"fs-5 fs-md-4 fw-bold mb-4"},"景點介紹",-1)),Ke={class:"fs-6 fs-md-5"},Qe={class:"mb-8"},We=W(()=>o("span",{class:"fs-5 fs-md-4 mb-4 fw-bold"},"開放時間：",-1)),Ze={key:0},et=W(()=>o("p",{class:"fs-5 fs-md-4 mb-3 fw-bold"},"交通資訊：",-1)),tt={class:"row"},st={class:"d-flex col-12 col-lg-7 justify-content-between flex-column"},it={key:0},at={class:"col-12 col-lg-5"},nt=["src"];function rt(a,e,y,c,l,u){const A=F("VueLoading"),T=F("BannerBlock"),d=F("router-link"),r=F("singleAttraction"),i=F("LikeBlock");return w(),x(D,null,[P(A,{active:l.isLoading,class:"text-center","z-index":1060},null,8,["active"]),P(T),o("div",Oe,[o("nav",ze,[o("ol",Fe,[o("li",He,[P(d,{to:"/",exact:"","active-class":"active-link"},{default:V(()=>[ee("首頁")]),_:1})]),o("li",Ve,[P(d,{exact:"","active-class":"active-link",to:{path:"/TouristAttractions",query:{category:"全部",page:"1"}}},{default:V(()=>[ee(" 南部旅遊景點 ")]),_:1})]),o("li",je,[X(o("a",{onClick:e[0]||(e[0]=h=>u.redirectToA("台南")),class:"navbar-brand"},"台南",512),[[Y,l.category==="台南"]]),X(o("a",{onClick:e[1]||(e[1]=h=>u.redirectToA("嘉義")),class:"navbar-brand"},"嘉義",512),[[Y,l.category==="嘉義"]]),X(o("a",{onClick:e[2]||(e[2]=h=>u.redirectToA("高雄")),class:"navbar-brand"},"高雄",512),[[Y,l.category==="高雄"]])]),o("li",qe,z(l.attractionTitle),1)])]),o("div",Re,[o("span",Ne,z(l.category),1),o("p",Ge,z(l.attractionTitle),1),o("button",{class:"border-0 heart4 fs-3",onClick:e[3]||(e[3]=h=>u.toggleFavorite(l.attractionId,l.category,l.attractionTitle)),type:"button"},[o("i",{class:ue(["bi",{"bi-heart-fill":l.isFavorite[l.attractionId],"bi-heart":!l.isFavorite[l.attractionId]}])},null,2)])]),P(r),(w(!0),x(D,null,H(l.enabledAttractions,(h,g)=>(w(),x("div",{class:"row g-3",key:h.id},[g===0?(w(),x("div",Ue,[o("div",Xe,[o("div",Ye,[Je,o("p",Ke,z(h.description),1)]),o("div",Qe,[We,(w(!0),x(D,null,H(l.newAttractionsTimeOpen,p=>(w(),x("div",{key:p.id},[p.id===h.id?(w(),x("div",Ze,[(w(!0),x(D,null,H(p.content,v=>(w(),x("p",{key:v+123,class:"fs-6 fs-md-5 my-4"},z(v),1))),128))])):J("",!0)]))),128))]),o("div",null,[et,o("div",tt,[o("div",st,[(w(!0),x(D,null,H(a.newProductsContent,p=>(w(),x("div",{key:p.id},[p.id===h.id?(w(),x("div",it,[(w(!0),x(D,null,H(p.content,v=>(w(),x("p",{key:v,class:"fs-6 fs-md-5 my-4 mb-4"},z(v),1))),128))])):J("",!0)]))),128))]),o("div",at,[o("iframe",{src:h.imgMap,width:"100%",height:"100%",style:{border:"0"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"},null,8,nt)])])])])])):J("",!0)]))),128)),P(i,{adCategoryTitle:"sweet"}),P(i,{adCategoryTitle:"taste"})])],64)}const pt=Q(De,[["render",rt],["__scopeId","data-v-aaf74a62"]]);export{pt as default};
