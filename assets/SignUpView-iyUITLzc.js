import{s as h}from"./sweetAlert-ewec_sWc.js";import{_ as g,c as b,a as s,b as l,w as v,r as f,o as w,n as i,p as y,f as V}from"./index-m3KkdF-s.js";const k={data(){return{user:{name:"",email:"",password:"",age:"",phone:"",address:"",role:"user",birthday:""},isActive:!0}},methods:{toggleEye(){this.isActive=!this.isActive},isOver18(a){if(a.length===0)return"生日 為必填";const e=new Date(a),n=new Date,p=n.getFullYear()-e.getFullYear();return n.getMonth()<e.getMonth()||n.getMonth()===e.getMonth()&&n.getDate()<e.getDate()?p-1<18?"加入會員需滿18歲":!0:p<18?"加入會員需滿18歲":!0},signup(){event.preventDefault(),this.axios.post("https://two024-south-json-server-vercel.onrender.com/signup",{email:this.user.email,password:this.user.password,name:this.user.name,tel:this.user.tel,role:"user"}).then(()=>{this.$router.push("/login"),h.threeLayerCheckType("success","會員註冊完成")}).catch(()=>{h.threeLayerCheckType("error","會員註冊失敗，請再次填寫註冊資料")})}},mounted(){window.scrollTo(0,0)}},r=a=>(y("data-v-a5ab4de7"),a=a(),V(),a),x={class:"container py-10 py-lg-30"},D={class:"row justify-content-center align-items-cneter"},E={class:"col-md-6"},A=r(()=>s("h1",{class:"h3 mb-4 text-center"},"會員註冊",-1)),C={class:"form-floating mb-4"},F=r(()=>s("label",{for:"username",class:"form-label"},"請輸入姓名",-1)),M={class:"form-floating mb-4"},S=r(()=>s("label",{for:"email"},"請輸入 Email",-1)),U={class:"form-floating mb-4"},q=r(()=>s("label",{for:"userpassword"},"請輸入Password",-1)),I={class:"form-floating mb-4"},B=r(()=>s("label",{for:"phone"},"請輸入手機號碼",-1)),T={class:"form-floating mb-4"},j=r(()=>s("label",{for:"floatingDate"},"生日(加入會員需滿18歲)",-1)),L=r(()=>s("button",{class:"btn-turquoise w-100 mt-3",type:"submit",id:"signup"},"註冊",-1));function N(a,e,n,p,o,c){const d=f("VeeField"),u=f("ErrorMessage"),_=f("VeeForm");return w(),b("div",x,[s("div",D,[s("div",E,[A,l(_,{ref:"form",onSubmit:c.signup},{default:v(({errors:m})=>[s("div",C,[l(d,{type:"text",class:i(["form-control",{"is-invalid":m.姓名}]),modelValue:o.user.name,"onUpdate:modelValue":e[0]||(e[0]=t=>o.user.name=t),id:"username",name:"姓名",placeholder:"請輸入姓名",rules:"required"},null,8,["class","modelValue"]),F,l(u,{name:"姓名",class:"invalid-feedback"})]),s("div",M,[l(d,{type:"email",name:"email",class:i(["form-control",{"is-invalid":m.email}]),modelValue:o.user.email,"onUpdate:modelValue":e[1]||(e[1]=t=>o.user.email=t),id:"email",placeholder:"請輸入 Email",rules:"email|required",autocomplete:"useremail"},null,8,["modelValue","class"]),S,l(u,{name:"email",class:"invalid-feedback"})]),s("div",U,[l(d,{type:o.isActive?"password":"text",class:i(["form-control",{"is-invalid":m.password}]),name:"password",id:"userpassword",placeholder:"請輸入Password",rules:"min:8|alpha_dash|required",autocomplete:"current-password",modelValue:o.user.password,"onUpdate:modelValue":e[2]||(e[2]=t=>o.user.password=t)},null,8,["type","class","modelValue"]),q,s("button",{class:"fs-3 fs-lg-2 bg-transparent border-0 form-eye",type:"button",onClick:e[3]||(e[3]=(...t)=>c.toggleEye&&c.toggleEye(...t))},[s("i",{class:i([o.isActive?"bi-eye-slash-fill":"bi-eye-fill","bi"])},null,2)]),l(u,{name:"password",class:"invalid-feedback"})]),s("div",I,[l(d,{id:"phone",name:"手機號碼",type:"text",class:i(["form-control",{"is-invalid":m.手機號碼}]),placeholder:"請輸入手機號碼",rules:{required:!0,regex:/^(0\d{7,9})$/},modelValue:o.user.phone,"onUpdate:modelValue":e[4]||(e[4]=t=>o.user.phone=t)},null,8,["class","modelValue"]),B,l(u,{name:"手機號碼",class:"invalid-feedback"})]),s("div",T,[l(d,{type:"date",name:"生日",class:i(["form-control",{"is-invalid":m.生日}]),id:"floatingDate",placeholder:"2024/03/08",modelValue:o.user.birthday,"onUpdate:modelValue":e[5]||(e[5]=t=>o.user.birthday=t),rules:c.isOver18},null,8,["class","modelValue","rules"]),j,l(u,{name:"生日",class:"invalid-feedback"})]),L]),_:1},8,["onSubmit"])])])])}const Y=g(k,[["render",N],["__scopeId","data-v-a5ab4de7"]]);export{Y as default};
