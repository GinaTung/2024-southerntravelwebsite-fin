import{s as f}from"./sweetAlert-1ookAecM.js";import{_,c as w,a as s,b as o,w as b,r as p,o as g,n as d}from"./index-N7fZ8enQ.js";const v={data(){return{user:{name:"",email:"",password:"",age:"",phone:"",address:"",role:"user",birthday:""}}},methods:{isPhone(t){return/^(09)[0-9]{8}$/.test(t)?!0:"需要正確的電話號碼"},isOver18(t){if(t.length===0)return"生日 為必填";const e=new Date(t),m=new Date,c=m.getFullYear()-e.getFullYear();return m.getMonth()<e.getMonth()||m.getMonth()===e.getMonth()&&m.getDate()<e.getDate()?c-1<18?"加入會員需滿18歲":!0:c<18?"加入會員需滿18歲":!0},signup(){event.preventDefault(),this.axios.post("https://two024-south-json-server-vercel.onrender.com/signup",{email:this.user.email,password:this.user.password,name:this.user.name,tel:this.user.tel,role:"user"}).then(e=>{this.$router.push("/login"),f.threeLayerCheckType("success","會員註冊完成")}).catch(e=>{console.log(e),f.threeLayerCheckType("error","會員註冊失敗，請再次填寫註冊資料")})}},mounted(){window.scrollTo(0,0)}},V={class:"container py-10 py-lg-30"},y={class:"row justify-content-center align-items-cneter"},k={class:"col-md-6"},D=s("h1",{class:"h3 mb-4 text-center"},"會員註冊",-1),x={class:"form-floating mb-4"},F=s("label",{for:"username",class:"form-label"},"請輸入姓名",-1),M={class:"form-floating mb-4"},P=s("label",{for:"email"},"請輸入 Email",-1),U={class:"form-floating mb-4"},C=s("label",{for:"userpassword"},"請輸入Password",-1),E={class:"form-floating mb-4"},q=s("label",{for:"userpassword_confirmation"},"再次確認輸入Password",-1),N={class:"form-floating mb-4"},B=s("label",{for:"phone"},"請輸入手機號碼",-1),S={class:"form-floating mb-4"},T=s("label",{for:"floatingDate"},"生日(加入會員需滿18歲)",-1),j=s("button",{class:"btn-turquoise w-100 mt-3 border-0",type:"submit",id:"signup"},"註冊",-1);function L(t,e,m,c,l,u){const r=p("VeeField"),n=p("ErrorMessage"),h=p("VeeForm");return g(),w("div",V,[s("div",y,[s("div",k,[D,o(h,{ref:"form",onSubmit:u.signup},{default:b(({errors:i})=>[s("div",x,[o(r,{type:"text",class:d(["form-control",{"is-invalid":i.姓名}]),modelValue:l.user.name,"onUpdate:modelValue":e[0]||(e[0]=a=>l.user.name=a),id:"username",name:"姓名",placeholder:"請輸入姓名",rules:"required"},null,8,["class","modelValue"]),F,o(n,{name:"姓名",class:"invalid-feedback"})]),s("div",M,[o(r,{type:"email",name:"email",class:d(["form-control",{"is-invalid":i.email}]),modelValue:l.user.email,"onUpdate:modelValue":e[1]||(e[1]=a=>l.user.email=a),id:"email",placeholder:"請輸入 Email",rules:"email|required",autocomplete:"useremail"},null,8,["modelValue","class"]),P,o(n,{name:"email",class:"invalid-feedback"})]),s("div",U,[o(r,{type:"password",class:d(["form-control",{"is-invalid":i.password}]),name:"password",id:"userpassword",placeholder:"請輸入Password",rules:"min:8|alpha_dash|required",autocomplete:"current-password",modelValue:l.user.password,"onUpdate:modelValue":e[2]||(e[2]=a=>l.user.password=a)},null,8,["class","modelValue"]),C,o(n,{name:"password",class:"invalid-feedback"})]),s("div",E,[o(r,{type:"password",class:d(["form-control",{"is-invalid":i.password_confirmation}]),name:"password_confirmation",id:"userpassword_confirmation",placeholder:"請再次輸入Password",rules:"confirmed:@password",autocomplete:"current-password"},null,8,["class"]),q,o(n,{name:"password_confirmation",class:"invalid-feedback"})]),s("div",N,[o(r,{id:"phone",name:"手機號碼",type:"text",class:d(["form-control",{"is-invalid":i.手機號碼}]),placeholder:"請輸入手機號碼",rules:u.isPhone,modelValue:l.user.phone,"onUpdate:modelValue":e[3]||(e[3]=a=>l.user.phone=a)},null,8,["class","rules","modelValue"]),B,o(n,{name:"手機號碼",class:"invalid-feedback"})]),s("div",S,[o(r,{type:"date",name:"生日",class:d(["form-control",{"is-invalid":i.生日}]),id:"floatingDate",placeholder:"2024/03/08",modelValue:l.user.birthday,"onUpdate:modelValue":e[4]||(e[4]=a=>l.user.birthday=a),rules:u.isOver18},null,8,["class","modelValue","rules"]),T,o(n,{name:"生日",class:"invalid-feedback"})]),j]),_:1},8,["onSubmit"])])])])}const z=_(v,[["render",L]]);export{z as default};
