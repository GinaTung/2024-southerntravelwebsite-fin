import{g as $,i as q,e as L,n as P,b as I,S as N,a as Y,N as R}from"./navigation-6FGf_Bn2.js";import{_ as j,k as W,o as D,c as O,b as x,w as f,a as b,r as H,g as k,j as z,t as F,d as A}from"./index-i9-H0rYw.js";function X(n){let{swiper:e,extendParams:w,on:a}=n;w({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let p=!1,v=!1;e.thumbs={swiper:null};function l(){const s=e.thumbs.swiper;if(!s||s.destroyed)return;const t=s.clickedIndex,c=s.clickedSlide;if(c&&c.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof t>"u"||t===null)return;let u;s.params.loop?u=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10):u=t,e.params.loop?e.slideToLoop(u):e.slideTo(u)}function g(){const{thumbs:s}=e.params;if(p)return!1;p=!0;const t=e.constructor;if(s.swiper instanceof t)e.thumbs.swiper=s.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(q(s.swiper)){const c=Object.assign({},s.swiper);Object.assign(c,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new t(c),v=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",l),!0}function h(s){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const c=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():t.params.slidesPerView;let u=1;const r=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(u=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(u=1),u=Math.floor(u),t.slides.forEach(m=>m.classList.remove(r)),t.params.loop||t.params.virtual&&t.params.virtual.enabled)for(let m=0;m<u;m+=1)L(t.slidesEl,`[data-swiper-slide-index="${e.realIndex+m}"]`).forEach(o=>{o.classList.add(r)});else for(let m=0;m<u;m+=1)t.slides[e.realIndex+m]&&t.slides[e.realIndex+m].classList.add(r);const d=e.params.thumbs.autoScrollOffset,M=d&&!t.params.loop;if(e.realIndex!==t.realIndex||M){const m=t.activeIndex;let o,y;if(t.params.loop){const i=t.slides.filter(S=>S.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];o=t.slides.indexOf(i),y=e.activeIndex>e.previousIndex?"next":"prev"}else o=e.realIndex,y=o>e.previousIndex?"next":"prev";M&&(o+=y==="next"?d:-1*d),t.visibleSlidesIndexes&&t.visibleSlidesIndexes.indexOf(o)<0&&(t.params.centeredSlides?o>m?o=o-Math.floor(c/2)+1:o=o+Math.floor(c/2)-1:o>m&&t.params.slidesPerGroup,t.slideTo(o,s?0:void 0))}}a("beforeInit",()=>{const{thumbs:s}=e.params;if(!(!s||!s.swiper))if(typeof s.swiper=="string"||s.swiper instanceof HTMLElement){const t=$(),c=()=>{const r=typeof s.swiper=="string"?t.querySelector(s.swiper):s.swiper;if(r&&r.swiper)s.swiper=r.swiper,g(),h(!0);else if(r){const d=M=>{s.swiper=M.detail[0],r.removeEventListener("init",d),g(),h(!0),s.swiper.update(),e.update()};r.addEventListener("init",d)}return r},u=()=>{if(e.destroyed)return;c()||requestAnimationFrame(u)};requestAnimationFrame(u)}else g(),h(!0)}),a("slideChange update resize observerUpdate",()=>{h()}),a("setTransition",(s,t)=>{const c=e.thumbs.swiper;!c||c.destroyed||c.setTransition(t)}),a("beforeDestroy",()=>{const s=e.thumbs.swiper;!s||s.destroyed||v&&s.destroy()}),Object.assign(e.thumbs,{init:g,update:h})}function K(n){let{swiper:e,extendParams:w,emit:a,once:p}=n;w({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function v(){if(e.params.cssMode)return;const h=e.getTranslate();e.setTranslate(h),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function l(){if(e.params.cssMode)return;const{touchEventsData:h,touches:s}=e;h.velocities.length===0&&h.velocities.push({position:s[e.isHorizontal()?"startX":"startY"],time:h.touchStartTime}),h.velocities.push({position:s[e.isHorizontal()?"currentX":"currentY"],time:P()})}function g(h){let{currentPos:s}=h;if(e.params.cssMode)return;const{params:t,wrapperEl:c,rtlTranslate:u,snapGrid:r,touchEventsData:d}=e,m=P()-d.touchStartTime;if(s<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(s>-e.maxTranslate()){e.slides.length<r.length?e.slideTo(r.length-1):e.slideTo(e.slides.length-1);return}if(t.freeMode.momentum){if(d.velocities.length>1){const T=d.velocities.pop(),_=d.velocities.pop(),G=T.position-_.position,V=T.time-_.time;e.velocity=G/V,e.velocity/=2,Math.abs(e.velocity)<t.freeMode.minimumVelocity&&(e.velocity=0),(V>150||P()-T.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=t.freeMode.momentumVelocityRatio,d.velocities.length=0;let o=1e3*t.freeMode.momentumRatio;const y=e.velocity*o;let i=e.translate+y;u&&(i=-i);let S=!1,B;const E=Math.abs(e.velocity)*20*t.freeMode.momentumBounceRatio;let C;if(i<e.maxTranslate())t.freeMode.momentumBounce?(i+e.maxTranslate()<-E&&(i=e.maxTranslate()-E),B=e.maxTranslate(),S=!0,d.allowMomentumBounce=!0):i=e.maxTranslate(),t.loop&&t.centeredSlides&&(C=!0);else if(i>e.minTranslate())t.freeMode.momentumBounce?(i-e.minTranslate()>E&&(i=e.minTranslate()+E),B=e.minTranslate(),S=!0,d.allowMomentumBounce=!0):i=e.minTranslate(),t.loop&&t.centeredSlides&&(C=!0);else if(t.freeMode.sticky){let T;for(let _=0;_<r.length;_+=1)if(r[_]>-i){T=_;break}Math.abs(r[T]-i)<Math.abs(r[T-1]-i)||e.swipeDirection==="next"?i=r[T]:i=r[T-1],i=-i}if(C&&p("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(u?o=Math.abs((-i-e.translate)/e.velocity):o=Math.abs((i-e.translate)/e.velocity),t.freeMode.sticky){const T=Math.abs((u?-i:i)-e.translate),_=e.slidesSizesGrid[e.activeIndex];T<_?o=t.speed:T<2*_?o=t.speed*1.5:o=t.speed*2.5}}else if(t.freeMode.sticky){e.slideToClosest();return}t.freeMode.momentumBounce&&S?(e.updateProgress(B),e.setTransition(o),e.setTranslate(i),e.transitionStart(!0,e.swipeDirection),e.animating=!0,I(c,()=>{!e||e.destroyed||!d.allowMomentumBounce||(a("momentumBounce"),e.setTransition(t.speed),setTimeout(()=>{e.setTranslate(B),I(c,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(a("_freeModeNoMomentumRelease"),e.updateProgress(i),e.setTransition(o),e.setTranslate(i),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,I(c,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(i),e.updateActiveIndex(),e.updateSlidesClasses()}else if(t.freeMode.sticky){e.slideToClosest();return}else t.freeMode&&a("_freeModeNoMomentumRelease");(!t.freeMode.momentum||m>=t.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:v,onTouchMove:l,onTouchEnd:g}})}const U={components:{Swiper:N,SwiperSlide:Y},setup(){const n=W(null);return{thumbsSwiper:n,setThumbsSwiper:w=>{n.value=w},modules:[K,R,X]}}},J={class:"container"},Q=b("img",{src:"https://images.unsplash.com/photo-1526779259212-939e64788e3c?q=80&w=2074&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},null,-1),Z=b("img",{src:"https://images.unsplash.com/photo-1526779259212-939e64788e3c?q=80&w=2074&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},null,-1),ee=b("img",{src:"https://images.unsplash.com/photo-1526779259212-939e64788e3c?q=80&w=2074&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},null,-1),te=b("img",{src:"https://images.unsplash.com/photo-1526779259212-939e64788e3c?q=80&w=2074&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},null,-1),se=b("img",{src:"https://images.unsplash.com/photo-1526779259212-939e64788e3c?q=80&w=2074&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},null,-1),ie=b("img",{src:"https://images.unsplash.com/photo-1526779259212-939e64788e3c?q=80&w=2074&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},null,-1),oe=b("img",{src:"https://images.unsplash.com/photo-1526779259212-939e64788e3c?q=80&w=2074&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},null,-1),ne=b("img",{src:"https://images.unsplash.com/photo-1526779259212-939e64788e3c?q=80&w=2074&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},null,-1);function re(n,e,w,a,p,v){const l=H("swiper-slide"),g=H("swiper");return D(),O("div",J,[x(g,{loop:!0,spaceBetween:10,navigation:!0,thumbs:{swiper:a.thumbsSwiper.value},modules:a.modules,class:"mySwiper2"},{default:f(()=>[x(l,null,{default:f(()=>[Q]),_:1}),x(l,null,{default:f(()=>[Z]),_:1}),x(l,null,{default:f(()=>[ee]),_:1}),x(l,null,{default:f(()=>[te]),_:1})]),_:1},8,["thumbs","modules"]),x(g,{onSwiper:a.setThumbsSwiper,loop:!0,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:a.modules,class:"mySwiper"},{default:f(()=>[x(l,null,{default:f(()=>[se]),_:1}),x(l,null,{default:f(()=>[ie]),_:1}),x(l,null,{default:f(()=>[oe]),_:1}),x(l,null,{default:f(()=>[ne]),_:1})]),_:1},8,["onSwiper","modules"])])}const ae=j(U,[["render",re]]),le="https://two024-south-json-server-vercel.onrender.com",ce={components:{singleAttraction:ae},data(){return{category:"",attractionTitle:"",attractions:[],enabledAttractions:[],newAttractionsContent:"",newAttractionsTimeOpen:""}},methods:{getAttractions(){this.axios.get(`${le}/attractions`).then(n=>{this.attractions=n.data,this.attractions.forEach(e=>{e.is_enabled===1&&this.attractionTitle===e.title&&this.enabledAttractions.push(e)}),this.getNewText(),this.getnewAttractionsTimeOpen()}).catch(n=>{alert(`${n.message}`)})},getNewText(){const n={};this.attractions.forEach(e=>{e.content&&e.content.split(";").forEach(a=>{const p=a.trim();n[e.id]||(n[e.id]=[]),n[e.id].push(p)})}),this.newProductsContent=Object.entries(n).map(([e,w])=>({id:e,content:w}))},getnewAttractionsTimeOpen(){const n={};this.attractions.forEach(e=>{e.content&&e.timeOpen.split(";").forEach(a=>{const p=a.trim();n[e.id]||(n[e.id]=[]),n[e.id].push(p)})}),this.newAttractionsTimeOpen=Object.entries(n).map(([e,w])=>({id:e,content:w}))}},mounted(){this.category=this.$route.params.category,this.attractionTitle=this.$route.params.title,this.getAttractions()}},ue={class:"container py-10 py-lg-30"},de={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb",class:"pb-5 pb-lg-15"},me={class:"breadcrumb mb-0 fs-5"},fe={class:"breadcrumb-item"},pe={class:"breadcrumb-item"},he={class:"breadcrumb-item"},be={class:"breadcrumb-item"};function we(n,e,w,a,p,v){const l=H("router-link"),g=H("singleAttraction");return D(),O("div",ue,[b("nav",de,[b("ol",me,[b("li",fe,[x(l,{to:"/",class:"navbar-brand py-6"},{default:f(()=>[A("首頁")]),_:1})]),b("li",pe,[x(l,{to:"/TouristAttractions",class:"navbar-brand py-6"},{default:f(()=>[A(" 南部旅遊景點 ")]),_:1})]),b("li",he,[p.category==="台南"?(D(),k(l,{key:0,to:"/TouristAttractions/searchTainan",class:"navbar-brand py-6"},{default:f(()=>[A("台南")]),_:1})):p.category==="嘉義"?(D(),k(l,{key:1,to:"/TouristAttractions/searchChiayi",class:"navbar-brand py-6"},{default:f(()=>[A("嘉義")]),_:1})):p.category==="高雄"?(D(),k(l,{key:2,to:"/TouristAttractions/searchKaohsiung",class:"navbar-brand py-6"},{default:f(()=>[A("高雄")]),_:1})):z("",!0)]),b("li",be,F(p.attractionTitle),1)])]),x(g)])}const ge=j(ce,[["render",we]]);export{ge as default};
