import{s as u}from"./sweetAlert-ve4DQ4kY.js";import{_ as f,c as w,a as e,b as o,w as g,r as n,o as b,n as p}from"./index-CcCT7g7O.js";const v="https://two024-south-json-server-vercel.onrender.com",V={data(){return{user:{email:"",password:""}}},methods:{login(){event.preventDefault(),this.axios.post(`${v}/login`,this.user).then(r=>{u.threeLayerCheckType("success","會員登入成功");const{accessToken:s,expired:l}=r.data,a=r.data.user.id;document.cookie=`hexTokenU=${s}; expires=${new Date(l).toUTCString()}`,document.cookie=`userId=${a}`,this.userIsLoggedIn2=!0,this.userId=a,this.$router.push("/"),this.$emitter.emit("loginCheck2",!0),this.$emitter.emit("adminUpdateCart")}).catch(()=>{u.threeLayerCheckType("error","會員登入失敗，請再次填寫會員登入資料")})}},mounted(){window.scrollTo(0,0)}},k={class:"container py-10 py-lg-30"},y={class:"row justify-content-center align-items-cneter"},x={class:"col-md-6"},C=e("h1",{class:"h3 mb-4 text-center"},"會員登入",-1),T={class:"form-floating mb-4"},$=e("label",{for:"email"},"請輸入 Email",-1),E={class:"form-floating mb-4"},I=e("label",{for:"userpassword"},"請輸入Password",-1),U=e("button",{class:"btn-turquoise w-100 mt-4 btn-rounded",type:"submit",id:"login"},"登入",-1);function F(r,s,l,a,t,h){const d=n("VeeField"),c=n("ErrorMessage"),_=n("VeeForm");return b(),w("div",k,[e("div",y,[e("div",x,[C,o(_,{id:"form",ref:"form",onSubmit:h.login},{default:g(({errors:m})=>[e("div",T,[o(d,{type:"email",name:"email",class:p(["form-control",{"is-invalid":m.email}]),modelValue:t.user.email,"onUpdate:modelValue":s[0]||(s[0]=i=>t.user.email=i),id:"email",placeholder:"請輸入 Email",rules:"email|required",autocomplete:"useremail"},null,8,["modelValue","class"]),$,o(c,{name:"email",class:"invalid-feedback"})]),e("div",E,[o(d,{type:"password",class:p(["form-control",{"is-invalid":m.password}]),name:"password",id:"userpassword",placeholder:"請輸入Password",rules:"min:8|alpha_dash|required",autocomplete:"current-password",modelValue:t.user.password,"onUpdate:modelValue":s[1]||(s[1]=i=>t.user.password=i)},null,8,["class","modelValue"]),I,o(c,{name:"password",class:"invalid-feedback"})]),U]),_:1},8,["onSubmit"])])])])}const B=f(V,[["render",F]]);export{B as default};
