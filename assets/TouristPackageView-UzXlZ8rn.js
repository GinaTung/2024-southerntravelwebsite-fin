import{_ as g,c as _,a as e,b as c,w as i,g as b,r as p,o as h,d as r,t as n}from"./index-G02QWMa0.js";const l="https://two024-south-json-server-vercel.onrender.com",m={data(){return{text:"南部旅遊方案",products:[],user:"",newProductsDes:"",enabledProducts:[],searchChiayi:[],serchTainan:[],searchKaohsiung:[],fullPath:"",currentURL:""}},watch:{$route(s,t){this.currentURL=s.fullPath}},methods:{getProducts(){this.axios.get(`${l}/products`).then(s=>{this.products=s.data,this.products.forEach(t=>{t.is_enabled===1&&this.enabledProducts.push(t)}),this.getNewText()}).catch(s=>{console.log(s)})},truncateContent(s,t){return s&&s.length>t?s.substring(0,t)+"...":s},getNewText(){const s={};this.products.forEach(t=>{t.description&&t.description.split(";").forEach(u=>{const a=u.trim();s[t.id]||(s[t.id]=[]),s[t.id].push(a)})}),this.newProductsDes=Object.entries(s).map(([t,d])=>({id:t,descriptions:d}))},searchProducts(){this.axios.get(`${l}/products?category=嘉義`).then(s=>{this.products=s.data,this.products.forEach(t=>{t.is_enabled===1&&this.searchChiayi.push(t)})}).catch(s=>{alert(`${s.message}`)}),this.axios.get(`${l}/products?category=台南`).then(s=>{this.products=s.data,this.products.forEach(t=>{t.is_enabled===1&&this.serchTainan.push(t)})}).catch(s=>{alert(`${s.message}`)}),this.axios.get(`${l}/products?category=高雄`).then(s=>{this.products=s.data,this.products.forEach(t=>{t.is_enabled===1&&this.searchKaohsiung.push(t)})}).catch(s=>{alert(`${s.message}`)})}},mounted(){this.searchProducts(),this.getProducts(),this.fullPath=this.$route.fullPath}},v={class:"container py-10 py-lg-30"},k={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb",class:"pb-5 pb-lg-15"},x={class:"breadcrumb mb-0 fs-5"},P={class:"breadcrumb-item"},w={class:"breadcrumb-item","aria-current":"page"},y={key:1},T={class:"tourist-list"},$={class:"row"},C={class:"col-12 col-md-3 mb-5 mb-md-6 mb-lg-0 d-none d-lg-flex"},E={class:"border-info2 border-1 border w-100 rounded-1 h-100"},j=e("p",{class:"fs-4 p-5 bg-primary-500 text-white rounded-top"},"地區篩選",-1),N={class:"nav flex-column"},B={class:"nav-item"},D={class:""},K={class:"nav-item"},V={class:""},R={class:"nav-item"},U={class:""},L={class:"nav-item"},M={class:""},O={class:"col-12 col-lg-9"};function S(s,t,d,u,a,q){const o=p("router-link"),f=p("router-view");return h(),_("div",v,[e("nav",k,[e("ol",x,[e("li",P,[c(o,{to:"/",exact:"","active-class":"active-link"},{default:i(()=>[r(" 首頁 ")]),_:1})]),e("li",w,[a.fullPath!=="/TouristPackage"?(h(),b(o,{key:0,to:{path:"/TouristPackage"},exact:"","active-class":"active-link"},{default:i(()=>[r(" 南部旅遊方案 ")]),_:1})):(h(),_("span",y," 南部旅遊方案 "))])])]),e("div",T,[e("div",$,[e("div",C,[e("div",E,[j,e("ul",N,[e("li",B,[c(o,{class:"nav-link p-5 fs-5 link-color d-flex justify-content-between","data-name":"全部","aria-current":"page",to:"/TouristPackage/all"},{default:i(()=>[r("全部區域"),e("span",D,n(a.enabledProducts.length),1)]),_:1})]),e("li",K,[c(o,{class:"nav-link p-5 fs-5 link-color d-flex justify-content-between",to:"/TouristPackage/searchChiayi","data-name":"嘉義"},{default:i(()=>[r("嘉義"),e("span",V,n(a.searchChiayi.length),1)]),_:1})]),e("li",R,[c(o,{class:"nav-link p-5 fs-5 link-color d-flex justify-content-between",to:"/TouristPackage/searchTainan","data-name":"台南"},{default:i(()=>[r("台南"),e("span",U,n(a.serchTainan.length),1)]),_:1})]),e("li",L,[c(o,{class:"nav-link p-5 fs-5 link-color d-flex justify-content-between",to:"/TouristPackage/searchKaohsiung","data-name":"高雄"},{default:i(()=>[r("高雄"),e("span",M,n(a.searchKaohsiung.length),1)]),_:1})])])])]),e("div",O,[c(f)])])])])}const A=g(m,[["render",S]]);export{A as default};
